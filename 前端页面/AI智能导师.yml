app:
  description: 学习路径规划
  icon: 🤖
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: AI智能导师
  use_icon_as_answer_icon: true
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/ollama:0.0.6@f430f3eb959f4863b1e87171544a8fec179441b90deda5693c85f07712d2a68c
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: migege/json_repair:0.0.1@903bf3ba54482f956b3bf13bbacec981edd7a96be56d4d2dfa24e3a633bcef7d
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: stvlynn/sftp:0.0.1@9eadff3801200aa80742357d852c49f0b729eaab6b93b12bace5b9900d1d16ef
kind: app
version: 0.3.0
workflow:
  conversation_variables:
  - description: ''
    id: fecfd3db-eaae-4fe9-ad2f-43396566722d
    name: learning_pref
    selector:
    - conversation
    - learning_pref
    value: ''
    value_type: string
  - description: ''
    id: 86de08ca-c35a-46a0-9857-8c5ab6b8bffe
    name: skill_ids
    selector:
    - conversation
    - skill_ids
    value: []
    value_type: array[string]
  - description: ''
    id: 2e175d00-cb3d-4f6c-b688-78d5c6c7f87d
    name: plan
    selector:
    - conversation
    - plan
    value: ''
    value_type: string
  - description: ''
    id: 0375887b-103c-4371-a4f3-07f920de2a0e
    name: id2skill
    selector:
    - conversation
    - id2skill
    value:
      '1': 拓扑方法
      '10': 常数项
      '1011': 摆线
      '103': 孤点
      '10466': 实数
      '10467': 等式
      '10468': 实数系
      '10469': 拓扑学
      '10470': 位置数字系统
      '10471': 小数展开式
      '10472': 小数点
      '10473': 戴德金分割
      '10474': 不定式
      '10475': 集合论中的指数运算
      '10476': 幂次法则
      '10477': 零次幂
      '10478': 常数函数
      '10479': 零次函数
      '10480': 一元运算
      '10481': 多项式函数
      '10482': 微分规则
      '10483': 逐项微分
      '10484': 级数
      '10485': 误差余项
      '10486': e^x
      '10487': 转置
      '10488': 直线
      '10489': 等边五边形
      '10490': 射线
      '10491': 线段
      '10492': 矢
      '10493': 平行
      '10494': 四维柱体柱
      '10495': 直纹曲面
      '10496': 一维空间
      '10497': 对称轴
      '10498': 相交
      '10499': 相切
      '10500': 相离
      '10501': 镜像
      '10502': 表面积
      '10503': 挠率
      '10504': 面积
      '10505': 离心率
      '10506': 三角函数表
      '10507': cis
      '10508': 三分之一角公式
      '10509': 三角函数恒等式
      '10510': 三角多项式
      '10511': 诱导公式
      '10512': 三角函数精确值
      '10513': 三角函数积分表
      '10514': 三角函数线
      '10515': 精确值
      '10516': tan
      '10517': 近似作图
      '10518': π
      '10519': 绝对误差
      '10520': 对偶空间
      '10521': 矩阵中的项
      '10522': 矩阵中的Q元素
      '10523': Lax对
      '10524': 高维Lax对
      '10525': 幺正矩阵
      '10526': 方块矩阵
      '10527': 奇异值分解
      '10528': 克利福德代数
      '10529': 幂零矩阵
      '10530': LU分解
      '10531': 非奇异方阵
      '10532': 外积
      '10533': 多重积分
      '10534': 左反函数
      '10535': 一元可微函数
      '10536': 严格凸函数
      '10537': 一对一函数
      '10538': 非满射函数
      '10539': 恒等函数
      '106': 邻域
      '11': 余弦函数
      '110': 拓扑空间
      '12': 矩阵
      '13': 矩阵乘法
      '1307': 整数集(Z)
      '1386': 方程式根
      '1450': 旋转
      '15': 标量λ
      '1543': 无穷
      '16': 向量
      '1627': 无限小数
      '166': 闭开集
      '17': 变换
      '172': 鞍点
      '1777': 映射(函数)
      '18': 对称性
      '1914': 最值点
      '2': 单位根
      '202': 双曲线
      '204': 圆锥坐标系
      '209': 圆球面
      '21': 固定点
      '217': 三维正交坐标系
      '22': 分形
      '222': 复数域
      '224': 正实数集合
      '230': 数学集合理论
      '231': 数域包含关系
      '2311': 本征值
      '2312': 本征向量
      '238': 级数的项
      '24': 线性
      '240': 无穷级数
      '2417': 极分解
      '25': 微分方程
      '2548': 柯西序列
      '2585': 标准实数系统
      '26': 阶数
      '2624': 标量
      '2681': 核
      '27': 基底
      '2733': 格拉姆-施密特正交化
      '276': 二项式定理
      '277': 组合数
      '278': 阶乘
      '279': 素数
      '280': 正实数
      '281': 向量加法
      '282': 三线坐标
      '283': 共线
      '284': 三角函数
      '287': 求和符号
      '288': 二项式系数的求和公式
      '294': 矩阵逆
      '295': 指数函数
      '296': 齐次函数
      '297': 线性函数
      '298': 多元实函数
      '299': 复数空间
      '301': 反函数
      '302': 分数指数
      '303': 极限集合
      '304': 不动点理论
      '305': 二次收敛
      '306': 收敛速度
      '307': 最佳多项式
      '308': 一阶导数
      '309': 极值点
      '310': 椭圆曲线
      '311': 圆锥
      '312': 初始相位
      '314': 角频率
      '316': 二阶导数
      '317': 二项式展开
      '319': 可导性
      '32': 线性外代数
      '321': 乘积法则
      '322': 分部积分法
      '323': 连续可导函数
      '324': 参数方程
      '325': 切线
      '326': 梯度
      '331': 拉格朗日
      '3311': 正弦
      '3319': 正弦平方
      '3321': 正弦曲线
      '333': 柯西
      '334': 四面体
      '3351': 正方形
      '336': 三角形
      '338': 平面图
      '339': 科学计数法
      '34': 系数
      '340': 位似变换
      '346': 坐标轴
      '3492': 水平线
      '35': 整数加法
      '350': 开区间
      '354': 连续函数的闭支撑
      '356': 几何-调和平均数
      '358': 标准差
      '36': 数的分割
      '360': 调和平均数
      '361': 单位圆
      '362': 直角坐标系
      '363': QR分解
      '365': 正交矩阵
      '366': 内积
      '368': 共轭转置
      '371': 向量投影
      '378': 向量内积
      '39': 进位制
      '391': 平面几何
      '3910': 秩
      '392': 凹凸性
      '393': 容积
      '3936': 稀疏矩阵
      '3951': 空函数
      '3954': 空集
      '3958': 空间变换
      '3962': 立方体
      '3996': 等比级数
      '4': 平方根
      '40': 无限循环小数
      '4019': 算术
      '4105': 线性空间
      '4173': 球面几何
      '42': 幂次
      '4222': 线性投影
      '4227': 线性方程组
      '425': 收敛定理
      '4351': 绝对值函数
      '4419': 行列式
      '4497': 角平分线
      '4500': 角度
      '46': 零点
      '4606': 费马小定理
      '464': 数论
      '47': 因式分解
      '4730': 超越数
      '48': 几何学
      '49': 锥曲面与球面
      '490': 有理数
      '491': 有理函数
      '4920': 连续函数
      '4938': 迹
      '4974': 集合
      '4983': 零函数
      '499': 李代数
      '5': 代数
      '50': 未知数
      '5003': 长度
      '504': 极限
      '5056': 黑塞矩阵
      '507': 极小值
      '5088': 首项系数
      '5098': 高斯函数
      '51': 函数
      '5143': 一元函数
      '515': 根号
      '5154': 三角矩阵
      '5160': 三维空间
      '5194': 二次函数
      '5207': 代数数
      '5214': 余弦定理
      '5221': 偏导数
      '523': 有向曲面
      '5245': 凸函数
      '5246': 凸集
      '5266': 反三角函数
      '5270': 双曲函数
      '5275': 可测函数
      '5277': 可逆矩阵
      '5287': 圆
      '5296': 基
      '5298': 基数
      '5299': 复数
      '5316': 子集
      '5329': 导数
      '5348': 排列组合
      '5352': 特征值
      '5353': 特征向量
      '5368': 闭区间
      '54': 微积分
      '544': 正弦函数
      '546': 正交
      '554': 比例
      '5551': 二次可微函数
      '557': 法线
      '559': 泰勒级数
      '560': 泰勒展开
      '5655': 二维空间
      '5683': 二重向量
      '5691': 二阶可导的凸函数
      '575': 无理数
      '5772': 互自切点(tacnode)
      '58': 古典力学
      '581': 曲线
      '5841': 五边形镶嵌
      '6': 模运算
      '6040': 伴随矩阵
      '61': 数学物理
      '6120': 体积
      '6137': 余函数恒等式
      '6138': 余切
      '62': 狭义相对论
      '6260': 偏函数
      '63': 子群
      '6404': 光滑函数
      '6458': 克莱因瓶
      '6462': 克莱姆法则
      '65': 群论
      '67': 函数复合
      '6737': 关系合成
      '677': 无理函数
      '6867': 几何代数
      '6868': 几何体
      '69': 逆矩阵
      '6916': 几何级数
      '6946': 凸五边形镶嵌
      '70': 投影
      '7077': 函数限制
      '7252': 切比雪夫多项式
      '7297': 列空间
      '7393': 割圆八线
      '74': 一次函数
      '75': 因式
      '77': 二次方程
      '7711': 半正定
      '7714': 半正矢公式
      '7715': 半正矢定理
      '7751': 协方差矩阵
      '7763': 单位上三角矩阵
      '78': 乘法
      '79': 幂运算
      '8': 多项式
      '80': 子广群
      '81': 同构
      '8135': 双曲三角函数
      '8143': 双曲余弦函数
      '8145': 双曲几何
      '8161': 双曲正弦函数
      '82': 定义域
      '8263': 反对称矩阵
      '8296': 反演
      '83': 上界
      '84': 正交群
      '8450': 可展曲面
      '85': 判别式
      '86': 向量空间
      '8647': 合成关系
      '8745': 同界角
      '8819': 向量子空间
      '8909': 周期性
      '8925': 周长
      '9': 指数运算
      '9043': 四元数
      '925': 无穷小量
      '9260': 圆心角
      '9402': 垂直
      '9407': 垂直平分线
      '9441': 埃尔米特矩阵
      '95': 弱分离公理
      '9637': 复共轭矩阵
      '9670': 复合函数
      '9950': 10进数
    value_type: object
  - description: ''
    id: a8f0311e-ea69-44a9-bdd6-c4dc2d5bb889
    name: skill2id
    selector:
    - conversation
    - skill2id
    value:
      10进数: '9950'
      LU分解: '10530'
      Lax对: '10523'
      QR分解: '363'
      cis: '10507'
      e^x: '10486'
      tan: '10516'
      π: '10518'
      一元函数: '5143'
      一元可微函数: '10535'
      一元运算: '10480'
      一对一函数: '10537'
      一次函数: '74'
      一维空间: '10496'
      一阶导数: '308'
      三分之一角公式: '10508'
      三线坐标: '282'
      三维正交坐标系: '217'
      三维空间: '5160'
      三角函数: '284'
      三角函数恒等式: '10509'
      三角函数积分表: '10513'
      三角函数精确值: '10512'
      三角函数线: '10514'
      三角函数表: '10506'
      三角多项式: '10510'
      三角形: '336'
      三角矩阵: '5154'
      上界: '83'
      不动点理论: '304'
      不定式: '10474'
      严格凸函数: '10536'
      乘法: '78'
      乘积法则: '321'
      二次函数: '5194'
      二次可微函数: '5551'
      二次收敛: '305'
      二次方程: '77'
      二维空间: '5655'
      二重向量: '5683'
      二阶可导的凸函数: '5691'
      二阶导数: '316'
      二项式定理: '276'
      二项式展开: '317'
      二项式系数的求和公式: '288'
      互自切点(tacnode): '5772'
      五边形镶嵌: '5841'
      代数: '5'
      代数数: '5207'
      伴随矩阵: '6040'
      位似变换: '340'
      位置数字系统: '10470'
      体积: '6120'
      余函数恒等式: '6137'
      余切: '6138'
      余弦函数: '11'
      余弦定理: '5214'
      偏函数: '6260'
      偏导数: '5221'
      光滑函数: '6404'
      克利福德代数: '10528'
      克莱因瓶: '6458'
      克莱姆法则: '6462'
      共线: '283'
      共轭转置: '368'
      关系合成: '6737'
      内积: '366'
      几何-调和平均数: '356'
      几何代数: '6867'
      几何体: '6868'
      几何学: '48'
      几何级数: '6916'
      凸五边形镶嵌: '6946'
      凸函数: '5245'
      凸集: '5246'
      凹凸性: '392'
      函数: '51'
      函数复合: '67'
      函数限制: '7077'
      分形: '22'
      分数指数: '302'
      分部积分法: '322'
      切比雪夫多项式: '7252'
      切线: '325'
      列空间: '7297'
      初始相位: '312'
      判别式: '85'
      割圆八线: '7393'
      半正定: '7711'
      半正矢公式: '7714'
      半正矢定理: '7715'
      协方差矩阵: '7751'
      单位上三角矩阵: '7763'
      单位圆: '361'
      单位根: '2'
      参数方程: '324'
      双曲三角函数: '8135'
      双曲余弦函数: '8143'
      双曲几何: '8145'
      双曲函数: '5270'
      双曲正弦函数: '8161'
      双曲线: '202'
      反三角函数: '5266'
      反函数: '301'
      反对称矩阵: '8263'
      反演: '8296'
      变换: '17'
      古典力学: '58'
      可导性: '319'
      可展曲面: '8450'
      可测函数: '5275'
      可逆矩阵: '5277'
      合成关系: '8647'
      同构: '81'
      同界角: '8745'
      向量: '16'
      向量内积: '378'
      向量加法: '281'
      向量子空间: '8819'
      向量投影: '371'
      向量空间: '86'
      周期性: '8909'
      周长: '8925'
      四元数: '9043'
      四维柱体柱: '10494'
      四面体: '334'
      因式: '75'
      因式分解: '47'
      固定点: '21'
      圆: '5287'
      圆心角: '9260'
      圆球面: '209'
      圆锥: '311'
      圆锥坐标系: '204'
      坐标轴: '346'
      垂直: '9402'
      垂直平分线: '9407'
      埃尔米特矩阵: '9441'
      基: '5296'
      基底: '27'
      基数: '5298'
      复共轭矩阵: '9637'
      复合函数: '9670'
      复数: '5299'
      复数域: '222'
      复数空间: '299'
      外积: '10532'
      多元实函数: '298'
      多重积分: '10533'
      多项式: '8'
      多项式函数: '10481'
      奇异值分解: '10527'
      子广群: '80'
      子群: '63'
      子集: '5316'
      孤点: '103'
      定义域: '82'
      实数: '10466'
      实数系: '10468'
      容积: '393'
      对偶空间: '10520'
      对称性: '18'
      对称轴: '10497'
      导数: '5329'
      射线: '10490'
      小数展开式: '10471'
      小数点: '10472'
      左反函数: '10534'
      常数函数: '10478'
      常数项: '10'
      幂次: '42'
      幂次法则: '10476'
      幂运算: '79'
      幂零矩阵: '10529'
      平方根: '4'
      平行: '10493'
      平面几何: '391'
      平面图: '338'
      幺正矩阵: '10525'
      开区间: '350'
      弱分离公理: '95'
      微分方程: '25'
      微分规则: '10482'
      微积分: '54'
      恒等函数: '10539'
      戴德金分割: '10473'
      投影: '70'
      拉格朗日: '331'
      拓扑学: '10469'
      拓扑方法: '1'
      拓扑空间: '110'
      指数函数: '295'
      指数运算: '9'
      挠率: '10503'
      排列组合: '5348'
      摆线: '1011'
      收敛定理: '425'
      收敛速度: '306'
      数域包含关系: '231'
      数学物理: '61'
      数学集合理论: '230'
      数的分割: '36'
      数论: '464'
      整数加法: '35'
      整数集(Z): '1307'
      方块矩阵: '10526'
      方程式根: '1386'
      旋转: '1450'
      无理函数: '677'
      无理数: '575'
      无穷: '1543'
      无穷小量: '925'
      无穷级数: '240'
      无限小数: '1627'
      无限循环小数: '40'
      映射(函数): '1777'
      曲线: '581'
      最佳多项式: '307'
      最值点: '1914'
      有向曲面: '523'
      有理函数: '491'
      有理数: '490'
      未知数: '50'
      本征值: '2311'
      本征向量: '2312'
      李代数: '499'
      极值点: '309'
      极分解: '2417'
      极小值: '507'
      极限: '504'
      极限集合: '303'
      柯西: '333'
      柯西序列: '2548'
      标准实数系统: '2585'
      标准差: '358'
      标量: '2624'
      标量λ: '15'
      核: '2681'
      根号: '515'
      格拉姆-施密特正交化: '2733'
      梯度: '326'
      椭圆曲线: '310'
      模运算: '6'
      正交: '546'
      正交矩阵: '365'
      正交群: '84'
      正实数: '280'
      正实数集合: '224'
      正弦: '3311'
      正弦函数: '544'
      正弦平方: '3319'
      正弦曲线: '3321'
      正方形: '3351'
      比例: '554'
      水平线: '3492'
      求和符号: '287'
      法线: '557'
      泰勒展开: '560'
      泰勒级数: '559'
      特征值: '5352'
      特征向量: '5353'
      狭义相对论: '62'
      球面几何: '4173'
      直纹曲面: '10495'
      直线: '10488'
      直角坐标系: '362'
      相交: '10498'
      相切: '10499'
      相离: '10500'
      矢: '10492'
      矩阵: '12'
      矩阵中的Q元素: '10522'
      矩阵中的项: '10521'
      矩阵乘法: '13'
      矩阵逆: '294'
      离心率: '10505'
      科学计数法: '339'
      秩: '3910'
      稀疏矩阵: '3936'
      空函数: '3951'
      空间变换: '3958'
      空集: '3954'
      立方体: '3962'
      等式: '10467'
      等比级数: '3996'
      等边五边形: '10489'
      算术: '4019'
      精确值: '10515'
      系数: '34'
      素数: '279'
      级数: '10484'
      级数的项: '238'
      线性: '24'
      线性函数: '297'
      线性外代数: '32'
      线性投影: '4222'
      线性方程组: '4227'
      线性空间: '4105'
      线段: '10491'
      组合数: '277'
      绝对值函数: '4351'
      绝对误差: '10519'
      群论: '65'
      行列式: '4419'
      表面积: '10502'
      角平分线: '4497'
      角度: '4500'
      角频率: '314'
      误差余项: '10485'
      诱导公式: '10511'
      调和平均数: '360'
      费马小定理: '4606'
      超越数: '4730'
      转置: '10487'
      近似作图: '10517'
      进位制: '39'
      连续函数: '4920'
      连续函数的闭支撑: '354'
      连续可导函数: '323'
      迹: '4938'
      逆矩阵: '69'
      逐项微分: '10483'
      邻域: '106'
      锥曲面与球面: '49'
      镜像: '10501'
      长度: '5003'
      闭区间: '5368'
      闭开集: '166'
      阶乘: '278'
      阶数: '26'
      集合: '4974'
      集合论中的指数运算: '10475'
      零函数: '4983'
      零次函数: '10479'
      零次幂: '10477'
      零点: '46'
      非奇异方阵: '10531'
      非满射函数: '10538'
      面积: '10504'
      鞍点: '172'
      首项系数: '5088'
      高斯函数: '5098'
      高维Lax对: '10524'
      黑塞矩阵: '5056'
      齐次函数: '296'
    value_type: object
  - description: ''
    id: b736b548-2289-43cc-8232-c89c948397ea
    name: is_change_path
    selector:
    - conversation
    - is_change_path
    value: 'no'
    value_type: string
  - description: ''
    id: 11fa71a6-38c9-479a-bea1-69cf1cf37329
    name: knowledges
    selector:
    - conversation
    - knowledges
    value: []
    value_type: array[string]
  - description: ''
    id: ecb338e6-8bf2-43d3-b097-0167310bf3a6
    name: current_path
    selector:
    - conversation
    - current_path
    value: none
    value_type: string
  - description: ''
    id: 9f1d8624-ce93-480b-aa0a-ea85f49fd4bf
    name: query
    selector:
    - conversation
    - query
    value: ''
    value_type: string
  - description: ''
    id: 83c5793b-4db6-4fa3-96ce-a8b18769b9ad
    name: type
    selector:
    - conversation
    - type
    value: none
    value_type: string
  - description: 用户想要学习的知识点
    id: 68ba29f1-d1d9-45bf-8311-9e13c385182f
    name: knowedge
    selector:
    - conversation
    - knowedge
    value: none
    value_type: string
  - description: 用户偏好
    id: 0e7b4df1-c7f0-4704-898d-67fe5202d2d1
    name: profile
    selector:
    - conversation
    - profile
    value: none
    value_type: string
  environment_variables:
  - description: ''
    id: f3cd8518-a1b4-4f9a-be5e-c24d1ccf11ea
    name: api
    selector:
    - env
    - api
    value: http://172.20.192.249
    value_type: string
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        sourceType: if-else
        targetType: llm
      id: 1751360869563-false-1751354331306-target
      selected: false
      source: '1751360869563'
      sourceHandle: 'false'
      target: '1751354331306'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        sourceType: llm
        targetType: code
      id: 1751360964648-source-1751365161329-target
      selected: false
      source: '1751360964648'
      sourceHandle: source
      target: '1751365161329'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        sourceType: code
        targetType: assigner
      id: 1751365161329-source-1751361436422-target
      selected: false
      source: '1751365161329'
      sourceHandle: source
      target: '1751361436422'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        sourceType: code
        targetType: assigner
      id: 1751355297099-source-1751366938307-target
      selected: false
      source: '1751355297099'
      sourceHandle: source
      target: '1751366938307'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        sourceType: assigner
        targetType: llm
      id: 1751366938307-source-1751354394758-target
      selected: false
      source: '1751366938307'
      sourceHandle: source
      target: '1751354394758'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1751550739956-source-1751550936547-target
      selected: false
      source: '1751550739956'
      sourceHandle: source
      target: '1751550936547'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 17522085422380-source-1752220768194-target
      selected: false
      source: '17522085422380'
      sourceHandle: source
      target: '1752220768194'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1752324121072'
        sourceType: iteration-start
        targetType: knowledge-retrieval
      id: 1752324121072start-source-1752324207266-target
      selected: false
      source: 1752324121072start
      sourceHandle: source
      target: '1752324207266'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: iteration
        targetType: code
      id: 1752324121072-source-1752324467586-target
      selected: false
      source: '1752324121072'
      sourceHandle: source
      target: '1752324467586'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: code
      id: 1752323713101-source-1752323732040-target
      selected: false
      source: '1752323713101'
      sourceHandle: source
      target: '1752323732040'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: iteration
      id: 1752323732040-source-1752324121072-target
      selected: false
      source: '1752323732040'
      sourceHandle: source
      target: '1752324121072'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: answer
        targetType: llm
      id: 1752579451332-source-1752579864010-target
      selected: false
      source: '1752579451332'
      sourceHandle: source
      target: '1752579864010'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1752579864010-source-1752581382873-target
      selected: false
      source: '1752579864010'
      sourceHandle: source
      target: '1752581382873'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: loop
      id: 1752581382873-source-1750311529901-target
      selected: false
      source: '1752581382873'
      sourceHandle: source
      target: '1750311529901'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: if-else
      id: 1752207617731-false-1752667802598-target
      selected: false
      source: '1752207617731'
      sourceHandle: 'false'
      target: '1752667802598'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: answer
      id: 1752669477596-source-1752579451332-target
      selected: false
      source: '1752669477596'
      sourceHandle: source
      target: '1752579451332'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: assigner
      id: 1752324467586-source-1752670781922-target
      selected: false
      source: '1752324467586'
      sourceHandle: source
      target: '1752670781922'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: answer
      id: 1752670781922-source-1752324444952-target
      selected: false
      source: '1752670781922'
      sourceHandle: source
      target: '1752324444952'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: assigner
      id: 1752736754711-source-1752229874079-target
      selected: false
      source: '1752736754711'
      sourceHandle: source
      target: '1752229874079'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: loop
        targetType: tool
      id: 1750311529901-source-1752736904830-target
      selected: false
      source: '1750311529901'
      sourceHandle: source
      target: '1752736904830'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: code
      id: 1752736904830-source-1752736754711-target
      selected: false
      source: '1752736904830'
      sourceHandle: source
      target: '1752736754711'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 17530673322430-source-1753067395546-target
      selected: false
      source: '17530673322430'
      sourceHandle: source
      target: '1753067395546'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1753067395546-source-1753067425104-target
      selected: false
      source: '1753067395546'
      sourceHandle: source
      target: '1753067425104'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: code
      id: 1753067425104-source-1753067441877-target
      selected: false
      source: '1753067425104'
      sourceHandle: source
      target: '1753067441877'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: assigner
      id: 1753067441877-source-1753067545508-target
      selected: false
      source: '1753067441877'
      sourceHandle: source
      target: '1753067545508'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: code
      id: 1753068563021-source-1753068262721-target
      selected: false
      source: '1753068563021'
      sourceHandle: source
      target: '1753068262721'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: http-request
        targetType: code
      id: 1753088667294-source-1753153262760-target
      selected: false
      source: '1753088667294'
      sourceHandle: source
      target: '1753153262760'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753257811685'
        sourceType: iteration-start
        targetType: code
      id: 1753257811685start-source-1753257856153-target
      selected: false
      source: 1753257811685start
      sourceHandle: source
      target: '1753257856153'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753257811685'
        sourceType: code
        targetType: http-request
      id: 1753257856153-source-1753273583001-target
      selected: false
      source: '1753257856153'
      sourceHandle: source
      target: '1753273583001'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753257811685'
        sourceType: http-request
        targetType: tool
      id: 1753273583001-source-1753274578492-target
      selected: false
      source: '1753273583001'
      sourceHandle: source
      target: '1753274578492'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753257811685'
        sourceType: tool
        targetType: code
      id: 1753274578492-source-1753274636238-target
      selected: false
      source: '1753274578492'
      sourceHandle: source
      target: '1753274636238'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1753080869543-source-1753325924560-target
      selected: false
      source: '1753080869543'
      sourceHandle: source
      target: '1753325924560'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: http-request
      id: 1753325924560-source-1753088667294-target
      selected: false
      source: '1753325924560'
      sourceHandle: source
      target: '1753088667294'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: iteration
      id: 1753153262760-source-1753344648259-target
      selected: false
      source: '1753153262760'
      sourceHandle: source
      target: '1753344648259'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753344648259'
        sourceType: iteration-start
        targetType: code
      id: 1753344648259start-source-1753346063686-target
      selected: false
      source: 1753344648259start
      sourceHandle: source
      target: '1753346063686'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753344648259'
        sourceType: code
        targetType: tool
      id: 1753346063686-source-1753346589895-target
      selected: false
      source: '1753346063686'
      sourceHandle: source
      target: '1753346589895'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        sourceType: llm
        targetType: code
      id: 1751354331306-source-1751355297099-target
      selected: false
      source: '1751354331306'
      sourceHandle: source
      target: '1751355297099'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        sourceType: llm
        targetType: code
      id: 1751354394758-source-1751356856272-target
      selected: false
      source: '1751354394758'
      sourceHandle: source
      target: '1751356856272'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        sourceType: assigner
        targetType: llm
      id: 1751361436422-source-1751354394758-target
      selected: false
      source: '1751361436422'
      sourceHandle: source
      target: '1751354394758'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1753359434277-source-1751362054444-target
      selected: false
      source: '1753359434277'
      sourceHandle: source
      target: '1751362054444'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1752220768194-source-1752323713101-target
      selected: false
      source: '1752220768194'
      sourceHandle: source
      target: '1752323713101'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: llm
      id: 1752229874079-source-1753364694975-target
      selected: false
      source: '1752229874079'
      sourceHandle: source
      target: '1753364694975'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1753364694975-source-1753364994097-target
      selected: false
      source: '1753364694975'
      sourceHandle: source
      target: '1753364994097'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: answer
      id: 1753364994097-source-1753365037817-target
      selected: false
      source: '1753364994097'
      sourceHandle: source
      target: '1753365037817'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: answer
        targetType: llm
      id: 1753365037817-source-1753359434277-target
      selected: false
      source: '1753365037817'
      sourceHandle: source
      target: '1753359434277'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: document-extractor
      id: 1753433551758-source-1753435550086-target
      selected: false
      source: '1753433551758'
      sourceHandle: source
      target: '1753435550086'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: document-extractor
        targetType: code
      id: 1753435550086-source-1753435587411-target
      selected: false
      source: '1753435550086'
      sourceHandle: source
      target: '1753435587411'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: document-extractor
      id: 17534379199010-source-17534379336180-target
      selected: false
      source: '17534379199010'
      sourceHandle: source
      target: '17534379336180'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: document-extractor
        targetType: code
      id: 17534379336180-source-17534379981420-target
      selected: false
      source: '17534379336180'
      sourceHandle: source
      target: '17534379981420'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1753068262721-source-1753433551758-target
      selected: false
      source: '1753068262721'
      sourceHandle: source
      target: '1753433551758'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1753068262721-source-17534379199010-target
      selected: false
      source: '1753068262721'
      sourceHandle: source
      target: '17534379199010'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: iteration
      id: 1753435587411-source-1753257811685-target
      selected: false
      source: '1753435587411'
      sourceHandle: source
      target: '1753257811685'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: iteration
      id: 17534379981420-source-1753257811685-target
      selected: false
      source: '17534379981420'
      sourceHandle: source
      target: '1753257811685'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1752207617731-true-1753447722335-target
      selected: false
      source: '1752207617731'
      sourceHandle: 'true'
      target: '1753447722335'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1753448084473-true-17522085422380-target
      selected: false
      source: '1753448084473'
      sourceHandle: 'true'
      target: '17522085422380'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1753448084473-false-1751550739956-target
      selected: false
      source: '1753448084473'
      sourceHandle: 'false'
      target: '1751550739956'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1752667802598-true-1753448304087-target
      selected: false
      source: '1752667802598'
      sourceHandle: 'true'
      target: '1753448304087'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1753448304087-source-17534485126860-target
      selected: false
      source: '1753448304087'
      sourceHandle: source
      target: '17534485126860'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: if-else
      id: 17534485126860-source-17534485852110-target
      selected: false
      source: '17534485126860'
      sourceHandle: source
      target: '17534485852110'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 17534485852110-true-1752669477596-target
      selected: false
      source: '17534485852110'
      sourceHandle: 'true'
      target: '1752669477596'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 17534485852110-false-1753251865280-target
      selected: false
      source: '17534485852110'
      sourceHandle: 'false'
      target: '1753251865280'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1752667802598-false-1753448669111-target
      selected: false
      source: '1752667802598'
      sourceHandle: 'false'
      target: '1753448669111'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1753448669111-source-17534485159450-target
      selected: false
      source: '1753448669111'
      sourceHandle: source
      target: '17534485159450'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: if-else
      id: 17534485159450-source-17534488682900-target
      selected: false
      source: '17534485159450'
      sourceHandle: source
      target: '17534488682900'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 17534488682900-true-1752215312380-target
      selected: false
      source: '17534488682900'
      sourceHandle: 'true'
      target: '1752215312380'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 17534488682900-false-1753251898237-target
      selected: false
      source: '17534488682900'
      sourceHandle: 'false'
      target: '1753251898237'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        sourceType: loop-start
        targetType: if-else
      id: 1750311529901start-source-1751360869563-target
      selected: false
      source: 1750311529901start
      sourceHandle: source
      target: '1751360869563'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        sourceType: if-else
        targetType: if-else
      id: 1751360869563-true-1753514467869-target
      selected: false
      source: '1751360869563'
      sourceHandle: 'true'
      target: '1753514467869'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        sourceType: if-else
        targetType: assigner
      id: 1753514467869-true-1753514501253-target
      selected: false
      source: '1753514467869'
      sourceHandle: 'true'
      target: '1753514501253'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        sourceType: if-else
        targetType: llm
      id: 1753514467869-false-1751360964648-target
      selected: false
      source: '1753514467869'
      sourceHandle: 'false'
      target: '1751360964648'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        sourceType: assigner
        targetType: llm
      id: 1753514501253-source-1751360964648-target
      selected: false
      source: '1753514501253'
      sourceHandle: source
      target: '1751360964648'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        sourceType: code
        targetType: assigner
      id: 1751356856272-source-1751367535471-target
      selected: false
      source: '1751356856272'
      sourceHandle: source
      target: '1751367535471'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInLoop: false
        sourceType: iteration
        targetType: iteration
      id: 1753257811685-source-1753624798344-target
      selected: false
      source: '1753257811685'
      sourceHandle: source
      target: '1753624798344'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753624798344'
        sourceType: iteration-start
        targetType: code
      id: 1753624798344start-source-1753624925100-target
      selected: false
      source: 1753624798344start
      sourceHandle: source
      target: '1753624925100'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753624798344'
        sourceType: code
        targetType: code
      id: 1753624925100-source-1753687366815-target
      selected: false
      source: '1753624925100'
      sourceHandle: source
      target: '1753687366815'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1752736754711-source-1753068563021-target
      selected: false
      source: '1752736754711'
      sourceHandle: source
      target: '1753068563021'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753624798344'
        sourceType: code
        targetType: tool
      id: 1753687366815-source-1753687525550-target
      selected: false
      source: '1753687366815'
      sourceHandle: source
      target: '1753687525550'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753624798344'
        sourceType: tool
        targetType: http-request
      id: 1753687525550-source-1753625079763-target
      selected: false
      source: '1753687525550'
      sourceHandle: source
      target: '1753625079763'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753624798344'
        sourceType: http-request
        targetType: tool
      id: 1753625079763-source-1753689190810-target
      selected: false
      source: '1753625079763'
      sourceHandle: source
      target: '1753689190810'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753624798344'
        sourceType: tool
        targetType: code
      id: 1753689190810-source-1753689207885-target
      selected: false
      source: '1753689190810'
      sourceHandle: source
      target: '1753689207885'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInLoop: false
        sourceType: iteration
        targetType: code
      id: 1753257811685-source-1753080869543-target
      selected: false
      source: '1753257811685'
      sourceHandle: source
      target: '1753080869543'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: iteration
        targetType: http-request
      id: 1753624798344-source-1753088667294-target
      selected: false
      source: '1753624798344'
      sourceHandle: source
      target: '1753088667294'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753344648259'
        sourceType: http-request
        targetType: code
      id: 1753344715167-source-1753699466158-target
      selected: false
      source: '1753344715167'
      sourceHandle: source
      target: '1753699466158'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753344648259'
        sourceType: code
        targetType: tool
      id: 1753699466158-source-1753700688949-target
      selected: false
      source: '1753699466158'
      sourceHandle: source
      target: '1753700688949'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753344648259'
        sourceType: tool
        targetType: http-request
      id: 1753700688949-source-1753701083632-target
      selected: false
      source: '1753700688949'
      sourceHandle: source
      target: '1753701083632'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753257811685'
        sourceType: code
        targetType: assigner
      id: 1753274636238-source-1753774710002-target
      selected: false
      source: '1753274636238'
      sourceHandle: source
      target: '1753774710002'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1753344648259'
        sourceType: tool
        targetType: http-request
      id: 1753346589895-source-1753344715167-target
      selected: false
      source: '1753346589895'
      sourceHandle: source
      target: '1753344715167'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInLoop: false
        sourceType: assigner
        targetType: answer
      id: 1753067545508-source-1752324444952-target
      selected: false
      source: '1753067545508'
      sourceHandle: source
      target: '1752324444952'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: assigner
      id: 1751362383960-source-1753517674419-target
      selected: false
      source: '1751362383960'
      sourceHandle: source
      target: '1753517674419'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: http-request
      id: 1752323713101-source-1753887743067-target
      selected: false
      source: '1752323713101'
      sourceHandle: source
      target: '1753887743067'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: assigner
        targetType: code
      id: 1752215312380-source-1751362383960-target
      selected: false
      source: '1752215312380'
      sourceHandle: source
      target: '1751362383960'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: assigner
        targetType: code
      id: 1753517674419-source-1752581382873-target
      selected: false
      source: '1753517674419'
      sourceHandle: source
      target: '1752581382873'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: start
        targetType: if-else
      id: 1750254073268-source-1752207617731-target
      selected: false
      source: '1750254073268'
      sourceHandle: source
      target: '1752207617731'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: iteration
        targetType: http-request
      id: 1753344648259-source-1754023821921-target
      selected: false
      source: '1753344648259'
      sourceHandle: source
      target: '1754023821921'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: answer
        targetType: http-request
      id: 1751362054444-source-1754023821921-target
      selected: false
      source: '1751362054444'
      sourceHandle: source
      target: '1754023821921'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1753447722335-source-1753447895646-target
      selected: false
      source: '1753447722335'
      sourceHandle: source
      target: '1753447895646'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: if-else
      id: 1753447895646-source-1753448084473-target
      selected: false
      source: '1753447895646'
      sourceHandle: source
      target: '1753448084473'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1753448084473-3c781635-8f00-41c6-9931-943152af345a-1754487212970-target
      selected: false
      source: '1753448084473'
      sourceHandle: 3c781635-8f00-41c6-9931-943152af345a
      target: '1754487212970'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1754487212970-source-17544875613140-target
      selected: false
      source: '1754487212970'
      sourceHandle: source
      target: '17544875613140'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 17544875613140-source-17544875240220-target
      selected: false
      source: '17544875613140'
      sourceHandle: source
      target: '17544875240220'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: code
      id: 17544875240220-source-17544875330230-target
      selected: false
      source: '17544875240220'
      sourceHandle: source
      target: '17544875330230'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: knowledge-retrieval
      id: 17544875330230-source-1754487603819-target
      selected: false
      source: '17544875330230'
      sourceHandle: source
      target: '1754487603819'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: code
      id: 1754487603819-source-17544876979680-target
      selected: false
      source: '1754487603819'
      sourceHandle: source
      target: '17544876979680'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: http-request
      id: 17544876979680-source-17544877077090-target
      selected: false
      source: '17544876979680'
      sourceHandle: source
      target: '17544877077090'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: tool
      id: 17544877077090-source-17544877135400-target
      selected: false
      source: '17544877077090'
      sourceHandle: source
      target: '17544877135400'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: http-request
      id: 17544877135400-source-1754487894394-target
      selected: false
      source: '17544877135400'
      sourceHandle: source
      target: '1754487894394'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: http-request
        targetType: http-request
      id: 1754487894394-source-1754492652324-target
      source: '1754487894394'
      sourceHandle: source
      target: '1754492652324'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: http-request
        targetType: code
      id: 1753887743067-source-1754494797188-target
      source: '1753887743067'
      sourceHandle: source
      target: '1754494797188'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: llm
      id: 1754494797188-source-17530673322430-target
      source: '1754494797188'
      sourceHandle: source
      target: '17530673322430'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: 开始
        type: start
        variables:
        - label: user_id
          max_length: 48
          options: []
          required: true
          type: number
          variable: user_id
      height: 90
      id: '1750254073268'
      position:
        x: -861.5510314898418
        y: 1224.5876084069955
      positionAbsolute:
        x: -861.5510314898418
        y: 1224.5876084069955
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        break_conditions:
        - comparison_operator: contains
          id: 650479c2-6c7b-47b5-a7ad-2c899cac1848
          value: APPROVED
          varType: string
          variable_selector:
          - '1751356856272'
          - result
        desc: ''
        error_handle_mode: terminated
        height: 468
        logical_operator: and
        loop_count: 5
        loop_variables:
        - id: 7c9a40ed-62a3-4313-8c55-1b942c154727
          label: critic_message
          value: lms0327
          value_type: constant
          var_type: string
        selected: false
        start_node_id: 1750311529901start
        title: 循环
        type: loop
        width: 2057
      height: 468
      id: '1750311529901'
      position:
        x: 2624.300166858926
        y: 1385.0898584659956
      positionAbsolute:
        x: 2624.300166858926
        y: 1385.0898584659956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 2057
      zIndex: 1
    - data:
        desc: ''
        isInLoop: true
        selected: false
        title: ''
        type: loop-start
      draggable: false
      height: 48
      id: 1750311529901start
      parentId: '1750311529901'
      position:
        x: 60
        y: 94.5
      positionAbsolute:
        x: 2684.300166858926
        y: 1479.5898584659956
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-loop-start
      width: 44
      zIndex: 1002
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: 68399348-ec1c-44ba-8982-e8ee9e6b2420
          role: system
          text: "根据用户的profile（{{#1752581382873.result#}}）来分析学习偏好，你是一个学习路径规划专家，根据用户的个人背景和具体需求，制定个性化的学习计划，帮助用户高效地达到其学习目标。\n\
            核心技能\n生成合理粒度的知识点学习路径（plan）：\n粒度控制原则：\n宏观知识块优先：以章节级别的知识模块为单位，而非具体的小概念\n\
            路径长度限制：整个学习路径应控制在5-12个主要知识块内\n避免过度细分：不要将同一知识领域的细节概念拆分成多个步骤\n路径规划要求：\n\
            以目标知识点为核心：围绕用户想要学习的具体目标知识点进行规划\n识别关键前置模块：只包含学习目标所必需的大块前置知识领域\n构建完整学习体系：从目标知识点出发，逆向分析其依赖的核心概念模块\n\
            包含目标的核心子领域：将目标知识点按主要分支进行模块化划分\n严格按照知识领域的依赖关系排序：确保每个知识模块的前置要求都已满足\n示例对比：\n\
            ❌ 过细：正实数 → 反函数 → 乘法 → 除法 → 指数函数 → 对数函数...\n✅ 合理：函数基础 → 极限理论 → 导数与微分 →\
            \ 积分理论 → 微积分应用\n生成详细的学习计划（detail_plan）：\n对每个知识模块，提供：\n建议的学习时间（以小时为单位，考虑模块的复杂度）\n\
            根据用户掌握情况调整学习方法和重点\n推荐具体的学习方法（观看视频、阅读教材、练习、工具使用等）\n补充学习资源、注意事项、练习建议等\n\
            以对象数组形式返回，每个对象对应一个知识模块的详细方案\n重要约束\n粒度控制约束：\n最大路径长度：学习路径不超过12个主要知识块\n最小模块规模：每个知识点应该是一个完整的学习模块，预估学习时间不少于3-5小时\n\
            避免碎片化：同一领域的相关概念应整合为一个学习模块\n质量控制约束：\n目标导向规划：始终以用户的学习目标为中心\n前置知识筛选：只包含对达成学习目标真正必要的前置知识领域\n\
            依赖关系检查：确保没有知识模块在其前置要求之前出现\n逻辑验证：生成路径后进行自检，确保学习顺序符合知识体系逻辑\n个性化调整：基于用户的薄弱知识点进行针对性调整\n\
            输出格式要求\n请严格返回以下JSON格式的内容，其中plan字段是列表，内容只能是知识点字符串，不能嵌套列表和对象：\n{\n  \"plan\"\
            : [\"知识模块1\", \"知识模块2\", ...],\n  \"detail\": [\n    {\n      \"topic\"\
            : \"知识模块名称\",\n      \"hours\": 整数,\n      \"method\": \"建议的学习方法\",\n\
            \      \"resources\": [\"资源1\", \"资源2\", ...],\n      \"notes\": \"补充说明或建议\"\
            \n    },\n    ...\n  ]\n}\n"
        selected: false
        title: plan_agent
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1751354331306'
      parentId: '1750311529901'
      position:
        x: 545.0034566599766
        y: 335.6999457074455
      positionAbsolute:
        x: 3169.3036235189024
        y: 1720.789804173441
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        context:
          enabled: true
          variable_selector:
          - '1750665834727'
          - structured_output
          - profile
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: d803c0c2-8037-4481-b8c5-3911c9685a48
          role: system
          text: "你是严格的质量评审员，负责评审为用户生成的学习计划。请根据以下要求进行评审，并**确保输出为标准的 JSON 格式**，不要任何额外文本。\n\
            用户的学习计划为：\n{{#conversation.plan#}}\n评审内容：\n1. 评估学习计划是否匹配用户 profile：{{#1752581382873.result#}}。\n\
            2. 检查时间安排是否合理。\n3. 确保知识递进关系正确。\n\n评审要点：\n- 是否符合用户时间投入？\n- 是否弥补用户薄弱环节？\n\
            - 是否有明确里程碑？\n\n输出格式必须如下：\n\n输出要求：\n{\n  \"status\": \"APPROVED 或 REJECTED\"\
            ,\n  \"message\": \"简要说明评审结论\",\n  \"suggestions\": [\"建议1\", \"建议2\"\
            , ...]\n}\n\n请严格按照上述 JSON 格式输出评审结果，不使用任何 Markdown 或其他格式。"
        selected: false
        title: critic_agent
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1751354394758'
      parentId: '1750311529901'
      position:
        x: 1471.2797855432937
        y: 221.06378777801388
      positionAbsolute:
        x: 4095.5799524022195
        y: 1606.1536462440095
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        code: "import re\ndef main(arg1: str) -> dict:\n    res=re.sub(r\"<think>.*?</think>\"\
          , \"\",arg1, flags=re.DOTALL).strip()\n    return {\n        \"result\"\
          : res,\n    }\n"
        code_language: python3
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 处理plan
        type: code
        variables:
        - value_selector:
          - '1751354331306'
          - text
          variable: arg1
      height: 54
      id: '1751355297099'
      parentId: '1750311529901'
      position:
        x: 874.4772499710211
        y: 335.8902995556414
      positionAbsolute:
        x: 3498.777416829947
        y: 1720.980158021637
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        code: "import re\ndef main(arg1: str) -> dict:\n    res=re.sub(r\"<think>.*?</think>\"\
          , \"\",arg1, flags=re.DOTALL).strip()\n    return {\n        \"result\"\
          : res,\n    }\n"
        code_language: python3
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 查看critic
        type: code
        variables:
        - value_selector:
          - '1751354394758'
          - text
          variable: arg1
      height: 54
      id: '1751356856272'
      parentId: '1750311529901'
      position:
        x: 1470.5920557257136
        y: 338.3280227926714
      positionAbsolute:
        x: 4094.8922225846395
        y: 1723.417881258667
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: not contains
            id: 198aeeb6-6515-4244-b55f-ecb3c5d83969
            value: lms0327
            varType: string
            variable_selector:
            - '1750311529901'
            - critic_message
          - comparison_operator: contains
            id: 64932d20-b0e7-449f-bba9-80132a0eec9f
            value: 'yes'
            varType: string
            variable_selector:
            - conversation
            - is_change_path
          id: 'true'
          logical_operator: or
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        selected: false
        title: 条件分支
        type: if-else
      height: 152
      id: '1751360869563'
      parentId: '1750311529901'
      position:
        x: 164.7966193453326
        y: 157.7969232155899
      positionAbsolute:
        x: 2789.0967862042585
        y: 1542.8867816815855
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: 258eb181-28ef-4729-82be-15107bae2f89
          role: system
          text: "这是路径规划师指定的学习路径：{{#conversation.plan#}}\n- 其中的plan是知识点的学习顺序，detail_plan字段涵盖了每个知识点的具体学习情况，现在不符合学生要要求\n\
            - 请根据质量评审员提出的修改建议重新规划，修改建议为:{{#1750311529901.critic_message#}},{{#1752581382873.result#}}\n\
            - 仔细阅读质量评审员的反馈\n- 修改计划以解决指出的问题\n## 输出格式要求：\n请严格返回以下 JSON 格式的内容，不要添加任何额外说明或解释：\n\
            {\n  \"learning\": \"视频资源|课件资源|论文资源|练习资源\",\n  \"plan\": [\"知识点1\", \"\
            知识点2\", ...],\n  \"detail\": [\n    {\n      \"topic\": \"知识点名称\",\n \
            \     \"hours\": 整数,\n      \"method\": \"建议的学习方法\",\n      \"resources\"\
            : [\"资源1\", \"资源2\", ...],\n      \"notes\": \"补充说明或建议\"\n    },\n   \
            \ ...\n  ]\n}"
        selected: false
        title: plan_repeat
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1751360964648'
      parentId: '1750311529901'
      position:
        x: 879.3460131209131
        y: 220.14745858458468
      positionAbsolute:
        x: 3503.646179979839
        y: 1605.2373170505803
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: false
        isInLoop: true
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1751365161329'
          - result
          variable_selector:
          - conversation
          - plan
          write_mode: over-write
        loop_id: '1750311529901'
        selected: false
        title: plan_repeat变量赋值
        type: assigner
        version: '2'
      height: 88
      id: '1751361436422'
      parentId: '1750311529901'
      position:
        x: 1152.9515292870574
        y: 220.67126848115618
      positionAbsolute:
        x: 3777.2516961459833
        y: 1605.7611269471518
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        answer: '{{#1753359434277.text#}}'
        desc: ''
        selected: false
        title: 直接回复
        type: answer
        variables: []
      height: 105
      id: '1751362054444'
      position:
        x: 6899.196960943192
        y: 1385.0898584659956
      positionAbsolute:
        x: 6899.196960943192
        y: 1385.0898584659956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\ndef main(profile: str,knowledge: str) -> dict:\n    #\
          \ profile_json=json.loads(profile2)\n    return {\n        \"result\": profile+\"\
          , 想要学习的知识点是：\"+knowledge+\"\\n\",\n    }\n\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: profile_question
        type: code
        variables:
        - value_selector:
          - conversation
          - profile
          variable: profile
        - value_selector:
          - conversation
          - knowedge
          variable: knowledge
      height: 54
      id: '1751362383960'
      position:
        x: 1526.0007517729123
        y: 1628.4344730482605
      positionAbsolute:
        x: 1526.0007517729123
        y: 1628.4344730482605
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\ndef main(arg1: str) -> dict:\n    res=re.sub(r\"<think>.*?</think>\"\
          , \"\",arg1, flags=re.DOTALL).strip()\n    return {\n        \"result\"\
          : res,\n    }\n\n"
        code_language: python3
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 处理plan_repeat
        type: code
        variables:
        - value_selector:
          - '1751360964648'
          - text
          variable: arg1
      height: 54
      id: '1751365161329'
      parentId: '1750311529901'
      position:
        x: 1152.3788110109394
        y: 110.04192435478399
      positionAbsolute:
        x: 3776.6789778698653
        y: 1495.1317828207796
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: false
        isInLoop: true
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1751355297099'
          - result
          variable_selector:
          - conversation
          - plan
          write_mode: over-write
        loop_id: '1750311529901'
        selected: false
        title: 变量赋值 2
        type: assigner
        version: '2'
      height: 88
      id: '1751366938307'
      parentId: '1750311529901'
      position:
        x: 1155.2875031816143
        y: 334.60180804288325
      positionAbsolute:
        x: 3779.58767004054
        y: 1719.6916665088788
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: false
        isInLoop: true
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1751356856272'
          - result
          variable_selector:
          - '1750311529901'
          - critic_message
          write_mode: over-write
        loop_id: '1750311529901'
        selected: false
        title: critic赋值
        type: assigner
        version: '2'
      height: 88
      id: '1751367535471'
      parentId: '1750311529901'
      position:
        x: 1755.3564841167
        y: 220.86466488798055
      positionAbsolute:
        x: 4379.656650975626
        y: 1605.9545233539761
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: f6c3434f-0b9f-44fc-b527-e158324d1d0b
          role: system
          text: '{{#sys.query#}}'
        selected: false
        title: 非推荐问题处理
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1751550739956'
      position:
        x: 1186.4860457502368
        y: 1120.5971185676242
      positionAbsolute:
        x: 1186.4860457502368
        y: 1120.5971185676242
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1751550739956.text#}}'
        desc: ''
        selected: false
        title: 直接回复 5
        type: answer
        variables: []
      height: 105
      id: '1751550936547'
      position:
        x: 1526.0007517729123
        y: 1120.5971185676242
      positionAbsolute:
        x: 1526.0007517729123
        y: 1120.5971185676242
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        author: lms
        desc: ''
        height: 320
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"你是一个数学老师，请为学生从{{#1751530545826.result#}}中的资源描述中抽取题目，总共10-20题，并为每一道题设置分数，总分100，简单题占题目总数比40%，中等题占比30%，困难题占比20%，其中题目总数=简答题+中等题+困难题，生成一段新的出题描述（不需要生成具体的题目，只要依据{{#1751530545826.result#}}的描述，表述出出了几道题，分别是哪几种类型的）。语气要符合数学教师。","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"如：根据已学习的知识点，在知识点题库中检索生成了10题，分别是什么总分100分，分别有4个简单题、4个中等题和2个困难题。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 258
      height: 320
      id: '1751630668482'
      position:
        x: -1439.771341547855
        y: 2082.5999720672885
      positionAbsolute:
        x: -1439.771341547855
        y: 2082.5999720672885
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 258
    - data:
        author: lms
        desc: ''
        height: 88
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"你是一个数学出卷老师，主要职责是出卷不作答，请为学生从","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"中抽取题目，请严格按照题目内容进行输出，总共10-20题，并为每一道题设置分数（必须是整数），总分100，简单题占题目总数比40%，中等题占比30%，困难题占比20%，其中题目总数=简答题+中等题+困难题，且去掉题目中的题号，语气要符合数学教师。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"如：根据已学习的知识点，在知识点题库中检索生成了10题，总分100分，分别有4个简单题、4个中等题和2个困难题。试卷格式请严格按照下方形式，不要添加其他的内容：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"一、简单题（共4题，40分）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1.2+2=","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":null,"format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 257
      height: 88
      id: '1751788940854'
      position:
        x: -1423.771341547855
        y: 2582.582536765557
      positionAbsolute:
        x: -1423.771341547855
        y: 2582.582536765557
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 257
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: f9a42155-8ff6-44c9-bea4-62591b64b9d8
            value: none
            varType: string
            variable_selector:
            - conversation
            - knowedge
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: 条件分支 2
        type: if-else
      height: 126
      id: '1752207617731'
      position:
        x: -511.50072607133666
        y: 1224.5876084069955
      positionAbsolute:
        x: -511.50072607133666
        y: 1224.5876084069955
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: 4cd339d3-ee84-48f0-a133-2a05e7bee639
          role: system
          text: "你是一个学习路径规划助手，负责准确识别并提取用户想要学习的知识点。\n\n## 核心任务\n从用户输入中准确提取学习主题，并将其转换为具体的、可操作的知识点列表。\n\
            \n## 处理步骤\n\n### 1. 原始主题提取（必须执行）\n- **核心原则**：用户明确提到的学科/主题名称必须原样保留\n- 直接提取用户明确说出的科目名称（如\"\
            微积分\"、\"线性代数\"、\"Python\"等）\n- 这些原始主题名称必须作为知识点列表的核心组成部分\n- 示例：用户说\"学习微积分\"\
            \ → 必须包含\"微积分\"这个知识点\n\n### 2. 适度细化补充\n- **在保留原始主题的基础上**，可以适当添加该主题下的重要子领域\n\
            - 对于**具体科目**（如微积分）：保留原名 + 可选择性添加1-3个核心子领域\n- 对于**宽泛领域**（如\"数学\"）：保留原名\
            \ + 细化为具体科目\n- 细化程度要适中，避免列表过长\n\n### 3. 质量检查\n- 确认每个用户提到的主题都有对应的知识点\n\
            - 知识点应该具体且可学习，避免过于抽象或过于细节\n\n## 输出要求\n- 输出格式：纯JSON字符串数组\n- 只包含知识点名称，无任何额外内容\n\
            - **必须包含用户明确提到的原始学科名称**\n- 知识点应按重要性或学习顺序排列\n\n## 示例说明\n**输入**：\"我想学习微积分，请帮我规划学习路线\"\
            \n**正确输出**：`[\"微积分\", \"极限\", \"导数\", \"积分\"]`\n**错误输出**：`[\"极限\", \"\
            导数\", \"积分\"]` （遗漏了\"微积分\"本身）\n\n## 输出格式\n```json\n[\n  \"知识点1\",\n  \"\
            知识点2\",\n  \"知识点3\"\n]\n```\n\n---\n\n**处理以下用户输入：**\n用户输入：{{#sys.query#}}"
        selected: false
        structured_output_enabled: false
        title: 知识点提取 2
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '17522085422380'
      position:
        x: 1186.4860457502368
        y: 327.5887204545504
      positionAbsolute:
        x: 1186.4860457502368
        y: 327.5887204545504
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - sys
          - query
          variable_selector:
          - conversation
          - knowedge
          write_mode: over-write
        selected: false
        title: 知识点更新
        type: assigner
        version: '2'
      height: 88
      id: '1752215312380'
      position:
        x: 1181.0316097103475
        y: 1628.4344730482605
      positionAbsolute:
        x: 1181.0316097103475
        y: 1628.4344730482605
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\ndef main(arg1: str) -> dict:\n    res=re.sub(r\"<think>.*?</think>\"\
          , \"\",arg1, flags=re.DOTALL).strip()\n    return {\n        \"result\"\
          : res,\n    }\n"
        code_language: python3
        desc: 去除think
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 代码执行 9
        type: code
        variables:
        - value_selector:
          - '17522085422380'
          - text
          variable: arg1
      height: 82
      id: '1752220768194'
      position:
        x: 1593.1792712084439
        y: 327.5887204545504
      positionAbsolute:
        x: 1593.1792712084439
        y: 327.5887204545504
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1752736754711'
          - plan
          variable_selector:
          - conversation
          - current_path
          write_mode: over-write
        selected: false
        title: 变量赋值 9
        type: assigner
        version: '2'
      height: 88
      id: '1752229874079'
      position:
        x: 5370.597381830346
        y: 1385.0898584659956
      positionAbsolute:
        x: 5370.597381830346
        y: 1385.0898584659956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON data string
            ja_JP: JSON data string
            pt_BR: String de dados JSON
            zh_Hans: JSON数据字符串
          label:
            en_US: Text
            ja_JP: Text
            pt_BR: Texto
            zh_Hans: 文本
          llm_description: JSON data string
          max: null
          min: null
          name: text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          text: ''
        provider_id: migege/json_repair/json_repair
        provider_name: migege/json_repair/json_repair
        provider_type: builtin
        selected: false
        title: json_repair
        tool_configurations: {}
        tool_description: 修复无效的JSON数据
        tool_label: json_repair
        tool_name: json_repair
        tool_parameters:
          text:
            type: mixed
            value: '{{#1752220768194.result#}}'
        type: tool
      height: 54
      id: '1752323713101'
      position:
        x: 1937.7517001746228
        y: 327.5887204545504
      positionAbsolute:
        x: 1937.7517001746228
        y: 327.5887204545504
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\ndef main(arg1: str) -> dict:\n    res=json.loads(arg1)\n\
          \    print(type(res))\n    return {\n        \"result\": res\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: array[string]
        selected: false
        title: 代码执行 10
        type: code
        variables:
        - value_selector:
          - '1752323713101'
          - text
          variable: arg1
      height: 54
      id: '1752323732040'
      position:
        x: 1937.7517001746228
        y: 500.192197026538
      positionAbsolute:
        x: 1937.7517001746228
        y: 500.192197026538
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        error_handle_mode: terminated
        height: 350
        is_parallel: false
        iterator_selector:
        - '1752323732040'
        - result
        output_selector:
        - '1752324207266'
        - result
        output_type: array[object]
        parallel_nums: 10
        selected: false
        start_node_id: 1752324121072start
        title: 迭代
        type: iteration
        width: 530
      height: 350
      id: '1752324121072'
      position:
        x: 2254.559130575672
        y: 500.192197026538
      positionAbsolute:
        x: 2254.559130575672
        y: 500.192197026538
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 530
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1752324121072start
      parentId: '1752324121072'
      position:
        x: 24
        y: 68
      positionAbsolute:
        x: 2278.559130575672
        y: 568.192197026538
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        dataset_ids:
        - nSLFPO/UyGtvQQXuVoO88cbgTbq2FncEzkWxDl5hTBWr2dWcwMbtzgofJJ2dEAcj
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1752324121072'
        multiple_retrieval_config:
          reranking_enable: true
          reranking_mode: weighted_score
          reranking_model:
            model: ''
            provider: ''
          score_threshold: null
          top_k: 1
          weights:
            keyword_setting:
              keyword_weight: 0.3
            vector_setting:
              embedding_model_name: nomic-embed-text
              embedding_provider_name: langgenius/ollama/ollama
              vector_weight: 0.7
        query_variable_selector:
        - '1752324121072'
        - item
        retrieval_mode: multiple
        selected: false
        title: 知识检索 6
        type: knowledge-retrieval
      height: 92
      id: '1752324207266'
      parentId: '1752324121072'
      position:
        x: 130.24244198959195
        y: 65
      positionAbsolute:
        x: 2384.801572565264
        y: 565.192197026538
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        answer: '根据你的学习轨迹和偏好，为你匹配到以下几个知识点，看看是不是你想学习的呀～


          {{#1752324467586.result#}}


          请选择1个知识点开始学习，请输入“知识点”'
        desc: 匹配知识点
        selected: false
        title: 直接回复 8
        type: answer
        variables: []
      height: 197
      id: '1752324444952'
      position:
        x: 3779.895796196738
        y: 500.192197026538
      positionAbsolute:
        x: 3779.895796196738
        y: 500.192197026538
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(arg1) -> dict:\n    res=''\n    new_list=[]\n    for k in\
          \ arg1:\n        new_list.append(k[\"content\"])\n    unique_list = list(dict.fromkeys(new_list))\n\
          \    for k in unique_list:\n        res+=k\n        res+='\\n'\n    return\
          \ {\n        \"result\": res,\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 代码执行 11
        type: code
        variables:
        - value_selector:
          - '1752324121072'
          - output
          variable: arg1
      height: 54
      id: '1752324467586'
      position:
        x: 2839.707821918258
        y: 500.192197026538
      positionAbsolute:
        x: 2839.707821918258
        y: 500.192197026538
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: 需要修改路径（此处应该是加意图判断）
        desc: ''
        selected: false
        title: 直接回复 9
        type: answer
        variables: []
      height: 118
      id: '1752579451332'
      position:
        x: 1526.0007517729123
        y: 1385.0898584659956
      positionAbsolute:
        x: 1526.0007517729123
        y: 1385.0898584659956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: c7561dfd-cdc0-4e5c-892d-0853ff35242d
          role: system
          text: '

            ## 角色设定

            你是一个专业的学习路径分析助手，擅长理解用户对学习内容的反馈意见。

            用户的反馈为：{{#sys.query#}}

            ## 任务描述

            请分析用户对学习路径的反馈，识别他们希望进行的修改类型，并将其意见总结成一句简洁明了的话。


            ## 分析维度

            请从以下几个维度分析用户的反馈：

            - **难度调整**：用户认为太难或太简单

            - **内容范围**：用户希望增加或减少某些内容

            - **学习节奏**：用户希望加快或放慢学习进度

            - **学习方式**：用户希望改变学习方法或形式

            - **时间安排**：用户希望调整学习时间分配

            - **其他需求**：用户的其他特殊要求


            ## 输出格式

            请用一句话总结用户的修改意见，格式为："用户希望[具体的修改要求]"



            ## 注意事项

            - 总结要准确反映用户的核心诉求

            - 语言要简洁明了，避免冗余

            - 如果用户提出多个修改意见，请优先总结最主要的需求

            - 如果用户的意见不够明确，请基于上下文做出合理推断'
        selected: false
        title: 分析用户不满意原因
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1752579864010'
      position:
        x: 1871.9940125764365
        y: 1385.0898584659956
      positionAbsolute:
        x: 1871.9940125764365
        y: 1385.0898584659956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\ndef main(arg1: str, arg2: str,profile) -> dict:\n    if\
          \ not arg1:\n        arg1=\"\"\n    else:\n        arg1=re.sub(r\"<think>.*?</think>\"\
          , \"\",arg1, flags=re.DOTALL).strip()\n        arg1+='，用户的偏好为：'+profile\n\
          \    if not arg2:\n        arg2=\"\"\n    return {\n        \"result\":\
          \ arg1 + arg2,\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 信息统一
        type: code
        variables:
        - value_selector:
          - '1752579864010'
          - text
          variable: arg1
        - value_selector:
          - '1751362383960'
          - result
          variable: arg2
        - value_selector:
          - conversation
          - profile
          variable: profile
      height: 54
      id: '1752581382873'
      position:
        x: 2175.194441363972
        y: 1385.0898584659956
      positionAbsolute:
        x: 2175.194441363972
        y: 1385.0898584659956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: not contains
            id: ca032e05-fc1e-400c-83dc-cecf6ed43ee8
            value: none
            varType: string
            variable_selector:
            - conversation
            - current_path
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: 条件分支 4
        type: if-else
      height: 126
      id: '1752667802598'
      position:
        x: -133.9585192991841
        y: 1436.2552357158004
      positionAbsolute:
        x: -133.9585192991841
        y: 1436.2552357158004
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: constant
          operation: set
          value: 'yes'
          variable_selector:
          - conversation
          - is_change_path
          write_mode: over-write
        selected: false
        title: 变量赋值 10
        type: assigner
        version: '2'
      height: 88
      id: '1752669477596'
      position:
        x: 1181.0316097103475
        y: 1385.0898584659956
      positionAbsolute:
        x: 1181.0316097103475
        y: 1385.0898584659956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1752324467586'
          - result
          variable_selector:
          - conversation
          - knowedge
          write_mode: over-write
        selected: false
        title: 变量赋值 10
        type: assigner
        version: '2'
      height: 88
      id: '1752670781922'
      position:
        x: 3169.184948469828
        y: 500.192197026538
      positionAbsolute:
        x: 3169.184948469828
        y: 500.192197026538
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        author: lms
        desc: ''
        height: 442
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"用户的学习偏好是","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"，用户已经学习过的知识点为","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"，薄弱知识点为","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"，要进行规划的知识点是","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"你是一个学习路径规划专家，根据用户的个人背景和具体需求，制定个性化的学习计划，帮助用户高效地达成学习目标。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"##
          技能要求：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1.
          分析用户 Profile 并制定学习计划：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"   -
          根据用户提供的教育程度、工作经验、兴趣爱好、可用时间等信息，评估其当前知识水平；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"   -
          结合用户的目标（例如“学习某知识点”），设计一套从基础到彻底掌握的学习路径；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"   -
          学习路径应包括前驱知识、核心知识点、子知识点，并按逻辑顺序排列；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"   -
          推荐适合用户的学习资源（书籍、课程、工具）；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"   -
          考虑用户的时间限制，确保计划合理可行。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"2.
          提供详细的学习建议：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"   -
          对每个知识点给出建议的学习时间（总时长或每日分配）；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"   -
          推荐具体的学习方法（如观看教学视频、阅读教材、动手写代码、做练习题等）；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"   -
          补充推荐资源（如《深度学习》花书、吴恩达机器学习课程、PyTorch官方教程）；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"   -
          给出注意事项、常见误区、复习建议等实用信息；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"   -
          建议项目练习内容和频率，帮助用户巩固知识。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"##
          输出格式要求：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"请返回以下
          JSON 格式的内容，其中 plan 和 detail_plan 均为字符串类型，不要添加任何额外说明或解释：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"{","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"  \"plan\":
          \"知识点1、知识点2、知识点3...\",","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"  \"detail_plan\":
          \"对每个知识点的详细学习建议...\"","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"}","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":null,"format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 256
      height: 442
      id: '1752722580420'
      position:
        x: 4781.673490629182
        y: 344.5706453834872
      positionAbsolute:
        x: 4781.673490629182
        y: 344.5706453834872
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 256
    - data:
        author: lms
        desc: ''
        height: 440
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"用户的profile和要解决的问题是","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"}","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"你是一个学习路径规划专家，根据用户的个人背景和具体需求，制定个性化的学习计划，帮助用户高效地达到其学习目标。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"##
          技能","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1.
          分析用户Profile并制定学习计划：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          根据用户提供的个人背景信息（如教育程度、工作经验、兴趣爱好等），评估用户的当前知识水平和技能掌握情况。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          结合用户的具体问题或学习目标，设计一套详细的学习路径，包括需要学习的知识点、推荐的教材和资源、以及学习进度安排。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          考虑用户的时间和能力限制，确保学习计划既具有挑战性又切实可行。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"2.
          提供学习建议和支持：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          在用户执行学习计划的过程中，提供必要的学习建议和指导，帮助用户解决遇到的问题和困难。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          定期检查用户的学习进度，并根据需要调整学习计划，以确保用户能够持续有效地学习。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          鼓励用户保持积极的学习态度，提供动力和支持，帮助用户克服学习过程中的挫折和挑战。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"##
          限制","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          只讨论与学习路径规划相关的内容，拒绝回答与学习无关的话题。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          所有的输出内容必须按照给定的格式进行组织，不能偏离框架要求。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          制定的学习计划必须符合用户的实际情况和需求，不能过于理想化或不切实际。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 240
      height: 440
      id: '1752722600956'
      position:
        x: 4475.6877635234505
        y: 344.5706453834872
      positionAbsolute:
        x: 4475.6877635234505
        y: 344.5706453834872
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 240
    - data:
        code: "import json\ndef main(arg1) -> dict:\n    res=json.loads(arg1)\n  \
          \  return {\n        \"plan\":str(res[\"plan\"]),\n        \"detail_plan\"\
          :str(res[\"detail\"])\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          detail_plan:
            children: null
            type: string
          plan:
            children: null
            type: string
        selected: false
        title: 代码执行 12
        type: code
        variables:
        - value_selector:
          - '1752736904830'
          - text
          variable: arg1
      height: 54
      id: '1752736754711'
      position:
        x: 4947.367605374438
        y: 1566.9137170787703
      positionAbsolute:
        x: 4947.367605374438
        y: 1566.9137170787703
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON data string
            ja_JP: JSON data string
            pt_BR: String de dados JSON
            zh_Hans: JSON数据字符串
          label:
            en_US: Text
            ja_JP: Text
            pt_BR: Texto
            zh_Hans: 文本
          llm_description: JSON data string
          max: null
          min: null
          name: text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          text: ''
        provider_id: migege/json_repair/json_repair
        provider_name: migege/json_repair/json_repair
        provider_type: builtin
        selected: false
        title: json_repair
        tool_configurations: {}
        tool_description: 修复无效的JSON数据
        tool_label: json_repair
        tool_name: json_repair
        tool_parameters:
          text:
            type: mixed
            value: '{{#conversation.plan#}}'
        type: tool
      height: 54
      id: '1752736904830'
      position:
        x: 4947.367605374438
        y: 1385.0898584659956
      positionAbsolute:
        x: 4947.367605374438
        y: 1385.0898584659956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        author: lms
        desc: ''
        height: 448
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"你现在是严格按照以下规则运作的数学试卷生成系统，必须严格执行全部规则并仅输出
          JSON 格式数据 [{\"question\":\"\",\"answer\":\"\"}]。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"【出题规则】","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1.
          必须严格遵循用户指定的出题要求，不得擅自决定题目数量。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"2.
          必须100%从用户提供的 {{question_list}} 中选题，禁止自拟题目。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"3.
          禁止添加答案、解析、注释或与试卷内容无关的任何信息。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"【默认模板】（若用户未指定题数）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          10题：简单题5题（40分），中等题3题（30分），困难题2题（30分）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          15题：简单题7题（35分），中等题5题（35分），困难题3题（30分）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          20题：简单题12题（36分），中等题6题（36分），困难题2题（28分）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"【题目筛选】","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          必须按 {{knowledge_point}} 对题库进行筛选","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          按题目难度（简单/中等/困难）分类，精确抽取所需数量","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"【输出格式】（严格一致，禁止多字、缺字）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"最终输出仅为以下
          JSON 格式，无任何其他内容：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"[","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"  {\"question\":\"一、简单题（共X题，XX分）\",\"answer\":\"\"},","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"  {\"question\":\"1.
          题干内容\",\"answer\":\"\"},","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"  ...","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"  {\"question\":\"二、中等题（共X题，XX分）\",\"answer\":\"\"},","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"  {\"question\":\"6.
          题干内容\",\"answer\":\"\"},","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"  ...","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"  {\"question\":\"三、困难题（共X题，XX分）\",\"answer\":\"\"},","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"  {\"question\":\"14.
          题干内容\",\"answer\":\"\"}","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"]","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"【禁止行为】","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"❌
          自拟题目","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"❌
          修改题目内容或顺序","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"❌
          添加解析、答案或注释","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"❌
          添加JSON之外的输出内容","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"请根据以下输入参数严格执行任务：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          出题数量：{{number_of_questions}}（可为空）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          知识点：{{knowledge_point}}","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          题库列表：{{question_list}}（格式为：{\"level\": \"简单\", \"question\": \"题干内容\"}）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"开始出题。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 240
      height: 448
      id: '1752994895621'
      position:
        x: -739.950131981979
        y: 2206.5153733614607
      positionAbsolute:
        x: -739.950131981979
        y: 2206.5153733614607
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 240
    - data:
        author: lms
        desc: ''
        height: 455
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"你现在是严格按照以下规则运作的数学试卷生成系统：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1.必须严格遵循用户指定的出题要求，不得自行决定题目数量","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"2.必须100%从用户提供的","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"中选取题目","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"3.必须完全按照指定格式输出，禁止添加任何额外内容","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"【工作流程】","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"第一、首先确认用户需求和所属知识点","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1.若用户明确指定题目数量（10/15/20题），立即采用对应模板","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"2.若未指定，就自定义使用（10/15/20题）的模版","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"出题模版模版如下：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"    10题分配如下：简单题（共5题，共计40分）、中等题（共3题，共计30分）、困难题（共2题，共计30分）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"    15题分配如下：简单题（共7题，共计35分）、中等题（共5题，共计35分）、困难题（共3题，共计30分）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"    20题分配如下：简单题（共12题，共计36分）、中等题（共6题，共计36分）、困难题（共2题，共计14分）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"第二、题库处理：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1.严格按知识点分类筛选题目","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"2.确保题库中题目数量≥所需题目数时才能出卷","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"【输出格式】（必须完全一致，包括标点）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"一、简单题（共X题，XX分）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1.题库中的完整题干","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"...","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"二、中等题（共X题，XX分）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1.题库中的完整题干","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"...","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"三、困难题（共X题，XX分）","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1.题库中的完整题干","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"...","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"【禁止行为】","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"❌
          自行发明题目","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"❌
          调整题目分值","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"❌
          添加解析/答案","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 240
      height: 455
      id: '1752994907946'
      position:
        x: -1137.07860206728
        y: 2089.3490051033914
      positionAbsolute:
        x: -1137.07860206728
        y: 2089.3490051033914
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 240
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - edition_type: basic
          id: 4cf33813-c8ab-4f0d-8473-67fec666c654
          role: system
          text: "你是一位智能分析助手，任务是根据用户输入和历史数据库信息，提取其学习需求与用户偏好。\n\n- 当前用户输入（必须作为主要依据）：\n\
            {{#sys.query#}}\n- 用户历史偏好（仅可用于背景补充，不可主导判断）：\n{{#1754494797188.result#}}\n\
             **你的任务：**\n你负责提取用户信息，完成以下任务：\n1. 分析从数据库加载的用户历史偏好\n2. 提取当前问题的核心需求\n3. 严格按照以下 JSON 格式输出结果，不要任何额外文本或说明。\n\
            \n请完成以下六项任务，并**严格以标准 JSON 格式返回，不要输出任何额外说明、注释或标点**：\n \n1. **提取用户当前最核心的学习目标**、该信息**必须仅依据用户输入**得出；\n\
            2. **结合用户输入**分析目标水平、应用场景、时间偏好（学习时长，多久完成学习）\n3.**结合数据库数据**分析用户知识背景，即先将将知识点归类到数学领域类型，再根据掌握度判断类型强弱，生成知识画像，描述用户在不同数学领域的掌握程度，指出可较差应用的强项领域和重点需要补充的弱项领域，禁止出现具体的知识点名称和掌握度数值。\n\
            4. **判断用户当前最合适的学习资源类型**，从以下选项中按需选择一项：-\n - 视频资源\n - 课件资源\n - 论文资源\n - 练习资源\n\
            5. **判断用户的学习能力**，从用户掌握的知识点数和薄弱知识点数进行评估，从以下选项中按需选择一项：\n - 基础\n - 进阶\n6.\
            \ **判断用户的时间偏好**，从以下选项中按需选择一项：\n       \"速成\"：几天到2周\n        \"短期\"：2周-1个月\n\
            \        \"中期\"：1-3个月\n        \"长期\"：3个月以上\n        \"未指定\"\n**输出格式（仅限以下 JSON，不得有其他输出）：**\n\
            {\n\"learning\": \"视频资源|课件资源|论文资源|练习资源\" 中的一项，根据用户当前需求判断\",\n\"profile\"\
            : \"包含要素为用户知识画像描述、用户偏好、兴趣主题等，均用一段文字描述\",\n\"goal\": \"包含要素为用户的目标水平和应用场景\"\
            ，\n\"time\":\"包含要素为用户的时间偏好\"，\n\"ability\":\"基础或者进阶\",\n\"question\":\
            \ \"用户当前输入中明确表达的核心学习目标或问题\"\n}\n \n特别要求：\nquestion 字段必须精准反映用户输入的目标，不受数据库内容影响；\n\
            profile字段应用一段文字描述，不要出现数值；\ngoal字段应体现用户的目标水平、应用场景，用一段文字表示\ntime字段只能从指定的五项中选择，不可添加或改写；\n\
            ability字段只能从指定的两项中选择，不可添加或改写；\nlearning 字段只能从指定四项中选择，不可添加或改写；\n最终输出必须是纯 JSON，无任何解释性语言。\n\
             \n请根据用户输入提取关键信息，并以标准 JSON 格式返回结果。"
        selected: false
        structured_output:
          schema:
            additionalProperties: false
            properties:
              profile:
                type: string
              question:
                type: string
            required: []
            type: object
        structured_output_enabled: false
        title: profile_agent
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '17530673322430'
      position:
        x: 2853.670332132029
        y: 327.5887204545504
      positionAbsolute:
        x: 2853.670332132029
        y: 327.5887204545504
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\ndef main(arg1: str) -> dict:\n    res=re.sub(r\"<think>.*?</think>\"\
          , \"\",arg1, flags=re.DOTALL).strip()\n    return {\n        \"result\"\
          : res,\n    }\n"
        code_language: python3
        desc: 去除think部分
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 代码执行 13
        type: code
        variables:
        - value_selector:
          - '17530673322430'
          - text
          variable: arg1
      height: 82
      id: '1753067395546'
      position:
        x: 3147.971637360447
        y: 327.5887204545504
      positionAbsolute:
        x: 3147.971637360447
        y: 327.5887204545504
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON data string
            ja_JP: JSON data string
            pt_BR: String de dados JSON
            zh_Hans: JSON数据字符串
          label:
            en_US: Text
            ja_JP: Text
            pt_BR: Texto
            zh_Hans: 文本
          llm_description: JSON data string
          max: null
          min: null
          name: text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          text: ''
        provider_id: migege/json_repair/json_repair
        provider_name: migege/json_repair/json_repair
        provider_type: builtin
        selected: false
        title: json_repair
        tool_configurations: {}
        tool_description: 修复无效的JSON数据
        tool_label: json_repair
        tool_name: json_repair
        tool_parameters:
          text:
            type: mixed
            value: '{{#1753067395546.result#}}'
        type: tool
      height: 54
      id: '1753067425104'
      position:
        x: 3469.184948469828
        y: 327.5887204545504
      positionAbsolute:
        x: 3469.184948469828
        y: 327.5887204545504
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\ndef main(arg1: str) -> dict:\n    res=json.loads(arg1)\n\
          \    goal=res[\"goal\"]\n    time=res[\"time\"]\n    ability=res[\"ability\"\
          ]\n    p=str(res[\"profile\"])\n    prof=f\"\"\"用户的偏好为：{p},用户的学习能力是：{ability}，用户想达到的掌握程度是{goal},用户的学习时间要求为：{time}\n\
          \    \"\"\"\n    return {\n        \"learning\":str(res[\"learning\"]),\n\
          \        \"profile\": prof,\n        \"question\":res[\"question\"],\n \
          \       \n    }\n"
        code_language: python3
        desc: ''
        outputs:
          learning:
            children: null
            type: string
          profile:
            children: null
            type: string
          question:
            children: null
            type: string
        selected: false
        title: 代码执行 14
        type: code
        variables:
        - value_selector:
          - '1753067425104'
          - text
          variable: arg1
      height: 54
      id: '1753067441877'
      position:
        x: 3469.184948469828
        y: 398.1650749601067
      positionAbsolute:
        x: 3469.184948469828
        y: 398.1650749601067
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1753067441877'
          - profile
          variable_selector:
          - conversation
          - profile
          write_mode: over-write
        - input_type: variable
          operation: over-write
          value:
          - '1753067441877'
          - learning
          variable_selector:
          - conversation
          - learning_pref
          write_mode: over-write
        selected: false
        title: 变量赋值 11
        type: assigner
        version: '2'
      height: 116
      id: '1753067545508'
      position:
        x: 3779.895796196738
        y: 327.5887204545504
      positionAbsolute:
        x: 3779.895796196738
        y: 327.5887204545504
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\nimport json\ndef main(arg1: str) -> dict:\n    s = arg1.replace(\"\
          '\", '\"')\n    plan = json.loads(s)\n    return {\n        \"plan\": plan,\n\
          \    }\n"
        code_language: python3
        desc: ''
        outputs:
          plan:
            children: null
            type: array[string]
        selected: false
        title: 代码执行 15
        type: code
        variables:
        - value_selector:
          - '1752736754711'
          - plan
          variable: arg1
      height: 54
      id: '1753068262721'
      position:
        x: 4947.367605374438
        y: 1798.5611372454491
      positionAbsolute:
        x: 4947.367605374438
        y: 1798.5611372454491
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON data string
            ja_JP: JSON data string
            pt_BR: String de dados JSON
            zh_Hans: JSON数据字符串
          label:
            en_US: Text
            ja_JP: Text
            pt_BR: Texto
            zh_Hans: 文本
          llm_description: JSON data string
          max: null
          min: null
          name: text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          text: ''
        provider_id: migege/json_repair/json_repair
        provider_name: migege/json_repair/json_repair
        provider_type: builtin
        selected: false
        title: json_repair
        tool_configurations: {}
        tool_description: 修复无效的JSON数据
        tool_label: json_repair
        tool_name: json_repair
        tool_parameters:
          text:
            type: mixed
            value: '{{#1752736754711.plan#}}'
        type: tool
      height: 54
      id: '1753068563021'
      position:
        x: 4947.367605374438
        y: 1697.4193245302602
      positionAbsolute:
        x: 4947.367605374438
        y: 1697.4193245302602
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\ndef main(arg1,userId,skill,path,skill2id) -> dict:\n \
          \   json_str=json.dumps(arg1, ensure_ascii=False, indent=2)\n    return\
          \ {\n        \"result\": str({\n            \"user_id\":userId,\n      \
          \      \"skill_id\":skill2id[skill],\n            \"path\":path\n      \
          \  })\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 路径参数构造
        type: code
        variables:
        - value_selector:
          - '1753257811685'
          - output
          variable: arg1
        - value_selector:
          - '1750254073268'
          - user_id
          variable: userId
        - value_selector:
          - conversation
          - knowedge
          variable: skill
        - value_selector:
          - conversation
          - current_path
          variable: path
        - value_selector:
          - '1753435587411'
          - result
          variable: skill2id
      height: 54
      id: '1753080869543'
      position:
        x: 7250.392016514893
        y: 1566.9137170787703
      positionAbsolute:
        x: 7250.392016514893
        y: 1566.9137170787703
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-355
            key: ''
            type: text
            value: '{{#1753325924560.text#}}'
          type: json
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: 路径存储
        type: http-request
        url: '{{#env.api#}}:3000/api/learning-paths'
        variables: []
      height: 113
      id: '1753088667294'
      position:
        x: 8254.445050934835
        y: 1566.9137170787703
      positionAbsolute:
        x: 8254.445050934835
        y: 1566.9137170787703
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\ndef main(arg1: str) -> dict:\n    res=json.loads(arg1)\n\
          \    return {\n        \"result\": res[\"path_id\"],\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: number
        selected: false
        title: 获取path_id
        type: code
        variables:
        - value_selector:
          - '1753088667294'
          - body
          variable: arg1
      height: 54
      id: '1753153262760'
      position:
        x: 8254.445050934835
        y: 1697.4193245302602
      positionAbsolute:
        x: 8254.445050934835
        y: 1697.4193245302602
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: f07d29a6-0f4d-4e35-be29-960b6d6f50fd
          role: system
          text: '{{#sys.query#}}'
        selected: false
        title: 无关问题处理
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1753251865280'
      position:
        x: 1181.0316097103475
        y: 1496.0186853059274
      positionAbsolute:
        x: 1181.0316097103475
        y: 1496.0186853059274
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - role: system
          text: '{{#sys.query#}}'
        selected: false
        title: 无关问题处理
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1753251898237'
      position:
        x: 1181.0316097103475
        y: 1743.5613969373135
      positionAbsolute:
        x: 1181.0316097103475
        y: 1743.5613969373135
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        error_handle_mode: terminated
        height: 449
        is_parallel: false
        iterator_selector:
        - '1753068262721'
        - plan
        output_selector:
        - '1753274636238'
        - result
        output_type: array[object]
        parallel_nums: 10
        selected: false
        start_node_id: 1753257811685start
        title: 题目生成
        type: iteration
        width: 753
      height: 449
      id: '1753257811685'
      position:
        x: 6300.291254644452
        y: 1566.9137170787703
      positionAbsolute:
        x: 6300.291254644452
        y: 1566.9137170787703
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 753
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1753257811685start
      parentId: '1753257811685'
      position:
        x: 24
        y: 68
      positionAbsolute:
        x: 6324.291254644452
        y: 1634.9137170787703
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        code: "\ndef calculate_overlap(str1, str2):\n    \n    str1=str1.upper()\n\
          \    str2=str2.upper()\n    # 将字符串转换为字符集合\n    set1 = set(str1)\n    set2\
          \ = set(str2)\n    \n    # 计算交集（重合字符）\n    overlap_chars = set1 & set2\n\
          \    overlap_count = len(overlap_chars)\n    \n    # 计算并集（总字符数，去重）\n   \
          \ total_chars = set1 | set2\n    total_count = len(total_chars)\n    \n\
          \    # 计算重合度（避免除以零）\n    if total_count == 0:\n        similarity = 0.0\n\
          \    else:\n        similarity = overlap_count * 2 / total_count\n    \n\
          \    return similarity, overlap_count, total_count\n\n\n\n\ndef main(arg1,knowledges1,skill2id)\
          \ -> dict:\n    # 测试示例\n    knowledge1 = arg1\n\n    knowledges=knowledges1\n\
          \    values_list = list(knowledges.values())\n    # print(values_list)\n\
          \    sim_list=[]\n    for val in values_list:\n        similarity, overlap_count,\
          \ total_count = calculate_overlap(knowledge1, val)\n        if(similarity>0):\n\
          \            sim_list.append({\n                \"{}\".format(str(similarity)):val\n\
          \            })\n\n    sorted_data = sorted(sim_list, key=lambda item: float(list(item.keys())[0]),reverse=True)\n\
          \    if len(sorted_data):\n        res=list(sorted_data[0].values())\n \
          \       return {\n            \"result\": skill2id[res[0]],\n        }\n\
          \    else:\n        return {\n            \"result\": \"\",\n        }"
        code_language: python3
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1753257811685'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: skill查询
        type: code
        variables:
        - value_selector:
          - '1753257811685'
          - item
          variable: arg1
        - value_selector:
          - conversation
          - id2skill
          variable: knowledges1
        - value_selector:
          - conversation
          - skill2id
          variable: skill2id
      height: 54
      id: '1753257856153'
      parentId: '1753257811685'
      position:
        x: 202.32740722595827
        y: 65
      positionAbsolute:
        x: 6502.6186618704105
        y: 1631.9137170787703
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        desc: ''
        headers: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1753257811685'
        method: get
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP 请求 2
        type: http-request
        url: '{{#env.api#}}:3000/api/get-questions-by_skill_id/{{#1753257856153.result#}}'
        variables: []
      height: 161
      id: '1753273583001'
      parentId: '1753257811685'
      position:
        x: 204.10221768128304
        y: 164.19388363466373
      positionAbsolute:
        x: 6504.393472325735
        y: 1731.107600713434
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: true
        isInLoop: false
        is_team_authorization: true
        iteration_id: '1753257811685'
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON data string
            ja_JP: JSON data string
            pt_BR: String de dados JSON
            zh_Hans: JSON数据字符串
          label:
            en_US: Text
            ja_JP: Text
            pt_BR: Texto
            zh_Hans: 文本
          llm_description: JSON data string
          max: null
          min: null
          name: text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          text: ''
        provider_id: migege/json_repair/json_repair
        provider_name: migege/json_repair/json_repair
        provider_type: builtin
        selected: false
        title: json_repair
        tool_configurations: {}
        tool_description: 修复无效的JSON数据
        tool_label: json_repair
        tool_name: json_repair
        tool_parameters:
          text:
            type: mixed
            value: '{{#1753273583001.body#}}'
        type: tool
      height: 54
      id: '1753274578492'
      parentId: '1753257811685'
      position:
        x: 483.06887883042236
        y: 164.41580442233544
      positionAbsolute:
        x: 6783.360133474875
        y: 1731.3295215011058
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        code: "import json\ndef main(arg1: str,key) -> dict:\n    res=json.loads(arg1)\n\
          \    \n    return {\n        \"result\": {key:res}\n    }\n"
        code_language: python3
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1753257811685'
        outputs:
          result:
            children: null
            type: object
        selected: false
        title: 代码执行 21
        type: code
        variables:
        - value_selector:
          - '1753274578492'
          - text
          variable: arg1
        - value_selector:
          - '1753257811685'
          - item
          variable: key
      height: 54
      id: '1753274636238'
      parentId: '1753257811685'
      position:
        x: 485.29488473920264
        y: 259
      positionAbsolute:
        x: 6785.586139383655
        y: 1825.9137170787703
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON data string
            ja_JP: JSON data string
            pt_BR: String de dados JSON
            zh_Hans: JSON数据字符串
          label:
            en_US: Text
            ja_JP: Text
            pt_BR: Texto
            zh_Hans: 文本
          llm_description: JSON data string
          max: null
          min: null
          name: text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          text: ''
        provider_id: migege/json_repair/json_repair
        provider_name: migege/json_repair/json_repair
        provider_type: builtin
        selected: false
        title: json_repair
        tool_configurations: {}
        tool_description: 修复无效的JSON数据
        tool_label: json_repair
        tool_name: json_repair
        tool_parameters:
          text:
            type: mixed
            value: '{{#1753080869543.result#}}'
        type: tool
      height: 54
      id: '1753325924560'
      position:
        x: 7580.484781254801
        y: 1566.9137170787703
      positionAbsolute:
        x: 7580.484781254801
        y: 1566.9137170787703
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        error_handle_mode: terminated
        height: 234
        is_parallel: false
        iterator_selector:
        - '1753257811685'
        - output
        output_selector:
        - '1753344715167'
        - body
        output_type: array[string]
        parallel_nums: 10
        selected: false
        start_node_id: 1753344648259start
        title: 题目资源存取
        type: iteration
        width: 1286
      height: 234
      id: '1753344648259'
      position:
        x: 8254.445050934835
        y: 1780.7805993573033
      positionAbsolute:
        x: 8254.445050934835
        y: 1780.7805993573033
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 1286
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1753344648259start
      parentId: '1753344648259'
      position:
        x: 24
        y: 68
      positionAbsolute:
        x: 8278.445050934835
        y: 1848.7805993573033
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-326
            key: ''
            type: text
            value: '{{#1753346589895.text#}}'
          type: json
        desc: ''
        headers: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1753344648259'
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP 请求 3
        type: http-request
        url: '{{#env.api#}}:3000/api/insertQuestions'
        variables: []
      height: 113
      id: '1753344715167'
      parentId: '1753344648259'
      position:
        x: 423.55827256948214
        y: 69.51968514122746
      positionAbsolute:
        x: 8678.003323504317
        y: 1850.3002844985308
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        code: "\ndef main(arg1,path_id,skill_ids,index) -> dict:\n    # json_str=json.dumps(arg1,\
          \ ensure_ascii=False, indent=2)\n    return {\n        \"result\": str({\n\
          \            \"path_id\":path_id,\n            \"questions\":arg1,\n   \
          \         \"skill_id\":skill_ids[index]\n        }),\n    }\n"
        code_language: python3
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1753344648259'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 代码执行 21
        type: code
        variables:
        - value_selector:
          - '1753344648259'
          - item
          variable: arg1
        - value_selector:
          - '1753153262760'
          - result
          variable: path_id
        - value_selector:
          - conversation
          - skill_ids
          variable: skill_ids
        - value_selector:
          - '1753344648259'
          - index
          variable: index
      height: 54
      id: '1753346063686'
      parentId: '1753344648259'
      position:
        x: 122.67117139053153
        y: 65
      positionAbsolute:
        x: 8377.116222325367
        y: 1845.7805993573033
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: true
        isInLoop: false
        is_team_authorization: true
        iteration_id: '1753344648259'
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON data string
            ja_JP: JSON data string
            pt_BR: String de dados JSON
            zh_Hans: JSON数据字符串
          label:
            en_US: Text
            ja_JP: Text
            pt_BR: Texto
            zh_Hans: 文本
          llm_description: JSON data string
          max: null
          min: null
          name: text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          text: ''
        provider_id: migege/json_repair/json_repair
        provider_name: migege/json_repair/json_repair
        provider_type: builtin
        selected: false
        title: 参数修复
        tool_configurations: {}
        tool_description: 修复无效的JSON数据
        tool_label: json_repair
        tool_name: json_repair
        tool_parameters:
          text:
            type: mixed
            value: '{{#1753346063686.result#}}'
        type: tool
      height: 54
      id: '1753346589895'
      parentId: '1753344648259'
      position:
        x: 120.93576852175829
        y: 134.57870372389357
      positionAbsolute:
        x: 8375.380819456594
        y: 1915.359303081197
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - edition_type: basic
          id: ce9650e8-6c7b-4149-9e41-10426ad54627
          role: system
          text: '🎯 核心任务

            将 {{#1752736754711.detail_plan#}} 转换为结构清晰的纯文本学习路径，严禁输出JSON语法或任何格式说明。

            📝 处理规则

            从输入数据中提取主题信息（通常在第一个阶段的topic中或总体描述中）

            统计所有阶段的总小时数

            统计各难度等级的阶段数量

            为每个阶段生成合适的完成标志

            只输出最终的格式化结果，不输出任何处理指令

            ⚠️ 重要提醒

            绝对不要输出任何格式说明、处理规则或提示词内容

            直接从 "===============================================" 开始输出

            确保所有占位符都被实际内容替换

            主题必须从输入数据中准确提取，不能使用"[主题]"这样的占位符

            🎨 最终输出格式

            直接输出以下内容（不要输出格式说明）：

            ===============================================

            🎓 结合您的需求，我们为您规划了以下学习路线~

            要是有哪里觉得不合适，随时告诉我调整就好啦


            ⭐ 学习目标：[根据所有阶段内容总结整体学习目标]

            ⏰ 总体规划：预计共需 [汇总所有hours] 小时

            🎯 核心能力：通过本路径将培养分析思维、计算能力、问题解决等核心技能

            🔥 难度分布：[统计结果，如：基础X个阶段、进阶Y个阶段、高级Z个阶段]


            ===============================================

            📚 详细学习计划


            🚀 第1阶段：[实际的topic内容]

            ⏰ 预计用时：[实际hours]小时 | 🏷️ 难度等级：【根据内容判断难度】

            💡 学习方法：[将method字段转换为自然语言描述]

            ⚠️ 重点提醒：[将notes字段转换为自然语言，突出关键要点]

            ✅ 完成标志：[根据该阶段topic生成具体的完成标准]


            -------------------------------------------


            🚀 第2阶段：[实际的topic内容]

            ⏰ 预计用时：[实际hours]小时 | 🏷️ 难度等级：【根据内容判断难度】

            💡 学习方法：[实际method内容的自然语言转换]

            ⚠️ 重点提醒：[实际notes内容的自然语言转换]

            ✅ 完成标志：[根据该阶段topic生成具体的完成标准]


            -------------------------------------------


            🚀 第3阶段：[实际的topic内容]

            ⏰ 预计用时：[实际hours]小时 | 🏷️ 难度等级：【根据内容判断难度】

            💡 学习方法：[实际method内容的自然语言转换]

            ⚠️ 重点提醒：[实际notes内容的自然语言转换]

            ✅ 完成标志：[根据该阶段topic生成具体的完成标准]


            -------------------------------------------


            [继续处理所有其他阶段，每个阶段后都添加分隔线...]


            ===============================================

            🏆 学习建议


            📈 进度安排：建议每周投入X-Y小时，按阶段循序渐进

            🔄 复习策略：每完成2-3个阶段后进行综合复习

            💪 练习重点：理论学习与实践练习相结合，多做典型例题

            ⚡ 难点攻克：遇到高难度内容时，可适当延长学习时间

            🎯 最终目标：[根据所有阶段内容，描述学完后达到的综合能力水平]

            '
        selected: false
        title: LLM 10
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1753359434277'
      position:
        x: 6599.196960943192
        y: 1385.0898584659956
      positionAbsolute:
        x: 6599.196960943192
        y: 1385.0898584659956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: 042cbe70-3c29-44c4-beb9-d1f000697b87
          role: system
          text: '任务描述

            请将{{#1752736754711.plan#}}转换为流程化的箭头连接格式，并进行适当的美化处理。

            转换规则

            输入格式：[知识点1，知识点2，知识点3，...]

            输出格式：知识点1 → 知识点2 → 知识点3 → ...

            美化要求

            使用优雅的箭头符号（→ 或 ➤ 或 ▶）

            在箭头前后添加适当的空格，确保视觉美观

            如果知识点较长，可以适当换行并保持对齐

            为整个流程添加一个简洁的标题或描述

            可以使用不同的视觉元素增强可读性

            输出模板

            📚 学习路径：

            [第一个知识点] → [第二个知识点] → [第三个知识点] → ...


            示例

            输入：[Python基础语法，面向对象编程，Web框架学习，项目实战]

            输出：

            🐍 Python学习路径

            Python基础语法 ➤ 面向对象编程 ➤ Web框架学习 ➤ 项目实战


            特殊情况处理

            如果只有一个知识点，直接输出该知识点并添加合适的装饰

            如果知识点过多（超过5个），考虑分组或分层展示

            保持知识点之间的逻辑关系和学习顺序

            请根据以上规则处理输入的知识点列表，输出美观且易读的流程格式。'
        selected: false
        title: LLM 11
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1753364694975'
      position:
        x: 5699.196960943192
        y: 1385.0898584659956
      positionAbsolute:
        x: 5699.196960943192
        y: 1385.0898584659956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\nimport re\ndef main(arg1: str) -> dict:\n    res=re.sub(r\"<think>.*?</think>\"\
          , \"\",arg1, flags=re.DOTALL).strip()\n    return {\n        \"result\"\
          : res,\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 代码执行 18
        type: code
        variables:
        - value_selector:
          - '1753364694975'
          - text
          variable: arg1
      height: 54
      id: '1753364994097'
      position:
        x: 5999.196960943192
        y: 1385.0898584659956
      positionAbsolute:
        x: 5999.196960943192
        y: 1385.0898584659956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '

          {{#1753364994097.result#}}'
        desc: ''
        selected: false
        title: 直接回复 6
        type: answer
        variables: []
      height: 105
      id: '1753365037817'
      position:
        x: 6300.291254644452
        y: 1385.0898584659956
      positionAbsolute:
        x: 6300.291254644452
        y: 1385.0898584659956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Remote server hostname or IP address
            ja_JP: Remote server hostname or IP address
            pt_BR: Remote server hostname or IP address
            zh_Hans: 远程服务器主机名或IP地址
          label:
            en_US: Host
            ja_JP: Host
            pt_BR: Host
            zh_Hans: 主机地址
          llm_description: The hostname or IP address of the remote SFTP server
          max: null
          min: null
          name: host
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: 22
          form: llm
          human_description:
            en_US: SFTP port number (default 22)
            ja_JP: SFTP port number (default 22)
            pt_BR: SFTP port number (default 22)
            zh_Hans: SFTP端口号（默认22）
          label:
            en_US: Port
            ja_JP: Port
            pt_BR: Port
            zh_Hans: 端口
          llm_description: The port number for the SFTP connection
          max: null
          min: null
          name: port
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Username for authentication
            ja_JP: Username for authentication
            pt_BR: Username for authentication
            zh_Hans: 用于认证的用户名
          label:
            en_US: Username
            ja_JP: Username
            pt_BR: Username
            zh_Hans: 用户名
          llm_description: Username for authenticating with the SFTP server
          max: null
          min: null
          name: username
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: password
          form: form
          human_description:
            en_US: Choose between password or private key authentication
            ja_JP: Choose between password or private key authentication
            pt_BR: Choose between password or private key authentication
            zh_Hans: 选择密码或私钥认证
          label:
            en_US: Authentication Type
            ja_JP: Authentication Type
            pt_BR: Authentication Type
            zh_Hans: 认证类型
          llm_description: The authentication method to use (password or private key).
          max: null
          min: null
          name: auth_type
          options:
          - label:
              en_US: Password
              ja_JP: Password
              pt_BR: Password
              zh_Hans: 密码
            value: password
          - label:
              en_US: Private Key
              ja_JP: Private Key
              pt_BR: Private Key
              zh_Hans: 私钥
            value: key
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: select
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The password for password authentication (required if auth_type
              is password)
            ja_JP: The password for password authentication (required if auth_type
              is password)
            pt_BR: The password for password authentication (required if auth_type
              is password)
            zh_Hans: 用于密码认证的密码（如果认证类型为密码则必填）
          label:
            en_US: Password
            ja_JP: Password
            pt_BR: Password
            zh_Hans: 密码
          llm_description: The password for password authentication. Required if auth_type
            is password.
          max: null
          min: null
          name: password
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The private key for key authentication (required if auth_type is
              key)
            ja_JP: The private key for key authentication (required if auth_type is
              key)
            pt_BR: The private key for key authentication (required if auth_type is
              key)
            zh_Hans: 用于密钥认证的私钥（如果认证类型为私钥则必填）
          label:
            en_US: Private Key
            ja_JP: Private Key
            pt_BR: Private Key
            zh_Hans: 私钥
          llm_description: The private key content for key-based authentication. Required
            if auth_type is key.
          max: null
          min: null
          name: private_key
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The passphrase for the private key (if the key is encrypted)
            ja_JP: The passphrase for the private key (if the key is encrypted)
            pt_BR: The passphrase for the private key (if the key is encrypted)
            zh_Hans: 私钥的密码（如果私钥已加密）
          label:
            en_US: Passphrase
            ja_JP: Passphrase
            pt_BR: Passphrase
            zh_Hans: 密钥口令
          llm_description: The passphrase for the private key if it is encrypted.
            Optional.
          max: null
          min: null
          name: passphrase
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Path to the file on the remote server
            ja_JP: Path to the file on the remote server
            pt_BR: Path to the file on the remote server
            zh_Hans: 远程服务器上文件的路径
          label:
            en_US: Remote File Path
            ja_JP: Remote File Path
            pt_BR: Remote File Path
            zh_Hans: 远程文件路径
          llm_description: The path to the file to download
          max: null
          min: null
          name: remote_path
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          auth_type: ''
          host: ''
          passphrase: ''
          password: ''
          port: ''
          private_key: ''
          remote_path: ''
          username: ''
        provider_id: stvlynn/sftp/sftp_provider
        provider_name: stvlynn/sftp/sftp_provider
        provider_type: builtin
        selected: false
        title: 下载文件
        tool_configurations:
          auth_type: password
        tool_description: 通过SFTP从远程服务器下载文件
        tool_label: 下载文件
        tool_name: download
        tool_parameters:
          host:
            type: mixed
            value: '{{#env.api#}}'
          password:
            type: mixed
            value: lms0327
          port:
            type: constant
            value: 22
          private_key:
            type: mixed
            value: ''
          remote_path:
            type: mixed
            value: /home/lms/project/DeepLearning/test2/data/complete_mapping.json
          username:
            type: mixed
            value: lms
        type: tool
      height: 90
      id: '1753433551758'
      position:
        x: 5370.597381830346
        y: 1566.9137170787703
      positionAbsolute:
        x: 5370.597381830346
        y: 1566.9137170787703
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_array_file: true
        selected: false
        title: 文档提取器
        type: document-extractor
        variable_selector:
        - '1753433551758'
        - files
      height: 92
      id: '1753435550086'
      position:
        x: 5699.196960943192
        y: 1566.9137170787703
      positionAbsolute:
        x: 5699.196960943192
        y: 1566.9137170787703
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\ndef main(arg1) -> dict:\n    res=json.loads(arg1[0])\n\
          \    return {\n        \"result\":res\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: object
        selected: false
        title: skill2id
        type: code
        variables:
        - value_selector:
          - '1753435550086'
          - text
          variable: arg1
      height: 54
      id: '1753435587411'
      position:
        x: 5999.196960943192
        y: 1566.9137170787703
      positionAbsolute:
        x: 5999.196960943192
        y: 1566.9137170787703
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Remote server hostname or IP address
            ja_JP: Remote server hostname or IP address
            pt_BR: Remote server hostname or IP address
            zh_Hans: 远程服务器主机名或IP地址
          label:
            en_US: Host
            ja_JP: Host
            pt_BR: Host
            zh_Hans: 主机地址
          llm_description: The hostname or IP address of the remote SFTP server
          max: null
          min: null
          name: host
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: 22
          form: llm
          human_description:
            en_US: SFTP port number (default 22)
            ja_JP: SFTP port number (default 22)
            pt_BR: SFTP port number (default 22)
            zh_Hans: SFTP端口号（默认22）
          label:
            en_US: Port
            ja_JP: Port
            pt_BR: Port
            zh_Hans: 端口
          llm_description: The port number for the SFTP connection
          max: null
          min: null
          name: port
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Username for authentication
            ja_JP: Username for authentication
            pt_BR: Username for authentication
            zh_Hans: 用于认证的用户名
          label:
            en_US: Username
            ja_JP: Username
            pt_BR: Username
            zh_Hans: 用户名
          llm_description: Username for authenticating with the SFTP server
          max: null
          min: null
          name: username
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: password
          form: form
          human_description:
            en_US: Choose between password or private key authentication
            ja_JP: Choose between password or private key authentication
            pt_BR: Choose between password or private key authentication
            zh_Hans: 选择密码或私钥认证
          label:
            en_US: Authentication Type
            ja_JP: Authentication Type
            pt_BR: Authentication Type
            zh_Hans: 认证类型
          llm_description: The authentication method to use (password or private key).
          max: null
          min: null
          name: auth_type
          options:
          - label:
              en_US: Password
              ja_JP: Password
              pt_BR: Password
              zh_Hans: 密码
            value: password
          - label:
              en_US: Private Key
              ja_JP: Private Key
              pt_BR: Private Key
              zh_Hans: 私钥
            value: key
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: select
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The password for password authentication (required if auth_type
              is password)
            ja_JP: The password for password authentication (required if auth_type
              is password)
            pt_BR: The password for password authentication (required if auth_type
              is password)
            zh_Hans: 用于密码认证的密码（如果认证类型为密码则必填）
          label:
            en_US: Password
            ja_JP: Password
            pt_BR: Password
            zh_Hans: 密码
          llm_description: The password for password authentication. Required if auth_type
            is password.
          max: null
          min: null
          name: password
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The private key for key authentication (required if auth_type is
              key)
            ja_JP: The private key for key authentication (required if auth_type is
              key)
            pt_BR: The private key for key authentication (required if auth_type is
              key)
            zh_Hans: 用于密钥认证的私钥（如果认证类型为私钥则必填）
          label:
            en_US: Private Key
            ja_JP: Private Key
            pt_BR: Private Key
            zh_Hans: 私钥
          llm_description: The private key content for key-based authentication. Required
            if auth_type is key.
          max: null
          min: null
          name: private_key
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The passphrase for the private key (if the key is encrypted)
            ja_JP: The passphrase for the private key (if the key is encrypted)
            pt_BR: The passphrase for the private key (if the key is encrypted)
            zh_Hans: 私钥的密码（如果私钥已加密）
          label:
            en_US: Passphrase
            ja_JP: Passphrase
            pt_BR: Passphrase
            zh_Hans: 密钥口令
          llm_description: The passphrase for the private key if it is encrypted.
            Optional.
          max: null
          min: null
          name: passphrase
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Path to the file on the remote server
            ja_JP: Path to the file on the remote server
            pt_BR: Path to the file on the remote server
            zh_Hans: 远程服务器上文件的路径
          label:
            en_US: Remote File Path
            ja_JP: Remote File Path
            pt_BR: Remote File Path
            zh_Hans: 远程文件路径
          llm_description: The path to the file to download
          max: null
          min: null
          name: remote_path
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          auth_type: ''
          host: ''
          passphrase: ''
          password: ''
          port: ''
          private_key: ''
          remote_path: ''
          username: ''
        provider_id: stvlynn/sftp/sftp_provider
        provider_name: stvlynn/sftp/sftp_provider
        provider_type: builtin
        selected: false
        title: 下载文件 (1)
        tool_configurations:
          auth_type: password
        tool_description: 通过SFTP从远程服务器下载文件
        tool_label: 下载文件
        tool_name: download
        tool_parameters:
          host:
            type: mixed
            value: '{{#env.api#}}'
          password:
            type: mixed
            value: lms0327
          port:
            type: constant
            value: 22
          private_key:
            type: mixed
            value: ''
          remote_path:
            type: mixed
            value: /home/lms/project/DeepLearning/test2/data/id2skill_complete_mapping.json
          username:
            type: mixed
            value: lms
        type: tool
      height: 90
      id: '17534379199010'
      position:
        x: 5370.597381830346
        y: 1712.8468162873266
      positionAbsolute:
        x: 5370.597381830346
        y: 1712.8468162873266
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_array_file: true
        selected: false
        title: 文档提取器 (1)
        type: document-extractor
        variable_selector:
        - '17534379199010'
        - files
      height: 92
      id: '17534379336180'
      position:
        x: 5691.6284997693865
        y: 1712.8468162873266
      positionAbsolute:
        x: 5691.6284997693865
        y: 1712.8468162873266
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\ndef main(arg1) -> dict:\n    res=json.loads(arg1[0])\n\
          \    return {\n        \"result\":res\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: object
        selected: false
        title: id2skill
        type: code
        variables:
        - value_selector:
          - '17534379336180'
          - text
          variable: arg1
      height: 54
      id: '17534379981420'
      position:
        x: 5999.196960943192
        y: 1712.8468162873266
      positionAbsolute:
        x: 5999.196960943192
        y: 1712.8468162873266
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: 用作意图判断分析 返回yes和no
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: c18d2a15-2394-4922-a46a-8c5b870b0973
          role: system
          text: '你是一个专门分析用户学习意图的助手。请根据以下标准判断用户的输入类型：

            用户的输入为：{{#sys.query#}}

            判断标准

            类型1：表达学习兴趣或需求

            如果用户输入符合以下任一条件，请输出"1"：

            表达学习兴趣或需求


            包含"我想学"、"我想了解"、"我需要掌握"、"我不太懂"、"我想知道"等表达

            使用疑问句询问知识相关问题

            表达对某个主题的困惑或不理解


            涉及具体知识点内容


            提到具体的学科概念（如"函数凹凸性"、"导数应用"、"二阶导数"、"凸函数"等）

            包含专业术语或学术概念

            涉及特定技能或知识领域


            请求学习指导


            询问"怎么学"、"有没有建议"、"应该从哪开始"

            请求"帮我规划"、"推荐一个路线"、"制定学习计划"

            寻求学习方法、步骤或资源推荐


            间接学习意图


            虽未明确提及"学习"，但表达了获取知识、提升能力的需求

            询问如何解决学习相关问题

            寻求对复杂概念的解释或澄清


            类型2：想要检测自己对某个知识点的掌握程度

            如果用户输入符合以下任一条件，请输出"2"：

            直接表达检测意图


            包含"我想检测一下我对...是否掌握"、"测试一下我的...水平"

            表达"考考我关于..."、"检验一下我对...的理解"

            询问"我对...掌握得怎么样"、"我...学得如何"


            请求知识点测试


            要求"出几道...题目测试我"、"给我一些...练习"

            询问"能否测试我的...能力"、"帮我评估...掌握情况"

            表达"想知道自己...哪里还不足"


            自我评估需求


            询问"我...水平如何"、"我对...的理解到什么程度了"

            表达"想确认自己是否真正掌握了..."

            寻求对特定知识点掌握程度的客观评价


            类型3：其他情况

            如果以上两种类型都不符合，请输出"3"

            输出格式


            如果符合类型1（表达学习兴趣或需求）：输出 1

            如果符合类型2（想要检测自己对某个知识点的掌握程度）：输出 2

            如果都不符合：输出 3


            注意事项


            重点关注用户的真实意图，而非表面措辞

            对于模糊表达，优先识别最符合的类型

            纯粹的闲聊、抱怨或与学习无关的内容应判断为"3"

            如果同时符合多种类型，优先选择最主要的意图


            请严格按照上述标准进行判断，严格限定输出只能是1或2或3，不能输出任何其他内容，不需要额外解释。'
        selected: false
        title: 意图判断
        type: llm
        variables: []
        vision:
          enabled: false
      height: 118
      id: '1753447722335'
      position:
        x: -133.9585192991841
        y: 1120.5971185676242
      positionAbsolute:
        x: -133.9585192991841
        y: 1120.5971185676242
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\ndef main(arg1: str) -> dict:\n    res=re.sub(r\"<think>.*?</think>\"\
          , \"\",arg1, flags=re.DOTALL).strip()\n    return {\n        \"result\"\
          : res.lower(),\n    }\n"
        code_language: python3
        desc: 去除think
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 去除think
        type: code
        variables:
        - value_selector:
          - '1753447722335'
          - text
          variable: arg1
      height: 82
      id: '1753447895646'
      position:
        x: 227.016328499235
        y: 848.9573551417184
      positionAbsolute:
        x: 227.016328499235
        y: 848.9573551417184
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: b75db306-9d8c-4333-a9d2-aa51d73f4f33
            value: '1'
            varType: string
            variable_selector:
            - '1753447895646'
            - result
          id: 'true'
          logical_operator: and
        - case_id: 3c781635-8f00-41c6-9931-943152af345a
          conditions:
          - comparison_operator: contains
            id: e0c09c04-7273-4853-bd3d-72888400b91a
            value: '2'
            varType: string
            variable_selector:
            - '1753447895646'
            - result
          id: 3c781635-8f00-41c6-9931-943152af345a
          logical_operator: and
        desc: ''
        selected: false
        title: 条件分支 4
        type: if-else
      height: 174
      id: '1753448084473'
      position:
        x: 854.0766814268436
        y: 848.9573551417184
      positionAbsolute:
        x: 854.0766814268436
        y: 848.9573551417184
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: 0b9261d4-9014-4bc8-b7e6-86fb7acd96cc
          role: system
          text: '任务描述

            请根据{{#sys.query#}}，判断其是否有明确或隐含的意图去修改学习计划。

            判断标准

            如果用户输入包含以下任一意图，请输出 yes：

            修改已有学习计划中的任何部分

            想要更改学习内容、方法、资源等

            提出对现有计划的具体修改建议

            调整学习顺序、时间安排

            希望重新安排学习的先后顺序

            想要修改学习时间分配

            调整学习进度或节奏

            增加、删除或替换某个知识点

            要求添加新的学习内容

            希望移除某些知识点

            想要用其他内容替换现有知识点

            表达对当前学习路径的不满或需要优化

            对现有计划表示不满意

            认为当前计划需要改进

            暗示现有安排不合适或效果不好

            输出格式

            如果符合上述任一条件：输出 yes

            如果不符合任何条件：输出 no

            判断要点

            注意识别隐含的修改意图，不仅限于直接的修改请求

            包括建议性、咨询性的修改表达

            对计划表达不满或质疑也视为修改意图

            纯粹的询问或学习相关问题（不涉及修改）应输出 no

            请严格按照上述标准进行判断，只输出"yes"或"no"，不需要额外解释。'
        selected: false
        title: LLM 13
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1753448304087'
      position:
        x: 227.016328499235
        y: 1394.0783568923941
      positionAbsolute:
        x: 227.016328499235
        y: 1394.0783568923941
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\ndef main(arg1: str) -> dict:\n    res=re.sub(r\"<think>.*?</think>\"\
          , \"\",arg1, flags=re.DOTALL).strip()\n    return {\n        \"result\"\
          : res.lower(),\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 代码执行 22
        type: code
        variables:
        - value_selector:
          - '1753448304087'
          - text
          variable: arg1
      height: 54
      id: '17534485126860'
      position:
        x: 539.826274347702
        y: 1394.0783568923941
      positionAbsolute:
        x: 539.826274347702
        y: 1394.0783568923941
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\ndef main(arg1: str) -> dict:\n    res=re.sub(r\"<think>.*?</think>\"\
          , \"\",arg1, flags=re.DOTALL).strip()\n    return {\n        \"result\"\
          : res.lower(),\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 代码执行 23
        type: code
        variables:
        - value_selector:
          - '1753448669111'
          - text
          variable: arg1
      height: 54
      id: '17534485159450'
      position:
        x: 539.826274347702
        y: 1597.4480665078843
      positionAbsolute:
        x: 539.826274347702
        y: 1597.4480665078843
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: b75db306-9d8c-4333-a9d2-aa51d73f4f33
            value: 'yes'
            varType: string
            variable_selector:
            - '17534485126860'
            - result
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: 条件分支 5
        type: if-else
      height: 126
      id: '17534485852110'
      position:
        x: 848.142855928558
        y: 1394.0783568923941
      positionAbsolute:
        x: 848.142855928558
        y: 1394.0783568923941
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: 2a7dbabc-de21-4930-ac54-b52632ec10e1
          role: system
          text: '你是一个数学内容识别助手。你的任务是判断用户输入的内容是否与数学相关的知识点。


            判断标准：

            - 数学概念、定理、公式、运算

            - 几何、代数、微积分、统计学、概率论等数学分支

            - 数学问题求解、数学题目

            - 数学符号、数学表达式


            规则：

            1. 如果输入内容涉及数学知识点，回复：yes

            2. 如果输入内容不涉及数学知识点，回复：no

            3. 只回复yes或no，不要添加任何解释或其他内容


            现在请判断以下内容：

            {{#sys.query#}}'
        selected: false
        title: LLM 14
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1753448669111'
      position:
        x: 227.016328499235
        y: 1597.4480665078843
      positionAbsolute:
        x: 227.016328499235
        y: 1597.4480665078843
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: b75db306-9d8c-4333-a9d2-aa51d73f4f33
            value: 'yes'
            varType: string
            variable_selector:
            - '17534485159450'
            - result
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: 条件分支 6
        type: if-else
      height: 126
      id: '17534488682900'
      position:
        x: 848.142855928558
        y: 1597.4480665078843
      positionAbsolute:
        x: 848.142855928558
        y: 1597.4480665078843
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: fcbf4cf2-4de1-4e9d-b734-54e1ffe88563
            value: 'yes'
            varType: string
            variable_selector:
            - conversation
            - is_change_path
          id: 'true'
          logical_operator: and
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1750311529901'
        selected: false
        title: 条件分支 7
        type: if-else
      height: 126
      id: '1753514467869'
      parentId: '1750311529901'
      position:
        x: 551.2501192204336
        y: 102.96718504112232
      positionAbsolute:
        x: 3175.5502860793595
        y: 1488.057043507118
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: false
        isInLoop: true
        items:
        - input_type: variable
          operation: clear
          value: ''
          variable_selector:
          - '1750311529901'
          - critic_message
          write_mode: over-write
        loop_id: '1750311529901'
        selected: false
        title: 变量赋值 9
        type: assigner
        version: '2'
      height: 88
      id: '1753514501253'
      parentId: '1750311529901'
      position:
        x: 877.4903986261616
        y: 105.42567113649284
      positionAbsolute:
        x: 3501.7905654850874
        y: 1490.5155296024884
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1751362383960'
          - result
          variable_selector:
          - conversation
          - profile
          write_mode: over-write
        selected: false
        title: 变量赋值 10
        type: assigner
        version: '2'
      height: 88
      id: '1753517674419'
      position:
        x: 1870.573180739091
        y: 1628.4344730482605
      positionAbsolute:
        x: 1870.573180739091
        y: 1628.4344730482605
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        error_handle_mode: terminated
        height: 343
        is_parallel: false
        iterator_selector:
        - '1753068262721'
        - plan
        output_selector:
        - '1753689207885'
        - result
        output_type: array[object]
        parallel_nums: 10
        selected: false
        start_node_id: 1753624798344start
        title: 资源生成
        type: iteration
        width: 930
      height: 343
      id: '1753624798344'
      position:
        x: 7250.392016514893
        y: 1676.5972440630446
      positionAbsolute:
        x: 7250.392016514893
        y: 1676.5972440630446
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 930
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1753624798344start
      parentId: '1753624798344'
      position:
        x: 24
        y: 68
      positionAbsolute:
        x: 7274.392016514893
        y: 1744.5972440630446
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        code: "\ndef calculate_overlap(str1, str2):\n    \n    str1=str1.upper()\n\
          \    str2=str2.upper()\n    # 将字符串转换为字符集合\n    set1 = set(str1)\n    set2\
          \ = set(str2)\n    \n    # 计算交集（重合字符）\n    overlap_chars = set1 & set2\n\
          \    overlap_count = len(overlap_chars)\n    \n    # 计算并集（总字符数，去重）\n   \
          \ total_chars = set1 | set2\n    total_count = len(total_chars)\n    \n\
          \    # 计算重合度（避免除以零）\n    if total_count == 0:\n        similarity = 0.0\n\
          \    else:\n        similarity = overlap_count * 2 / total_count\n    \n\
          \    return similarity, overlap_count, total_count\n\n\n\n\ndef main(arg1,knowledges1,skill2id)\
          \ -> dict:\n    # 测试示例\n    knowledge1 = arg1\n\n    knowledges=knowledges1\n\
          \    values_list = list(knowledges.values())\n    # print(values_list)\n\
          \    sim_list=[]\n    for val in values_list:\n        similarity, overlap_count,\
          \ total_count = calculate_overlap(knowledge1, val)\n        if(similarity>0):\n\
          \            sim_list.append({\n                \"{}\".format(str(similarity)):val\n\
          \            })\n\n    sorted_data = sorted(sim_list, key=lambda item: float(list(item.keys())[0]),reverse=True)\n\
          \    if len(sorted_data):\n        res=list(sorted_data[0].values())\n \
          \       return {\n            \"result\": skill2id[res[0]],\n        }\n\
          \    else:\n        return {\n            \"result\": \"\",\n        }"
        code_language: python3
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1753624798344'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: skill查询
        type: code
        variables:
        - value_selector:
          - '1753624798344'
          - item
          variable: arg1
        - value_selector:
          - conversation
          - id2skill
          variable: knowledges1
        - value_selector:
          - conversation
          - skill2id
          variable: skill2id
      height: 54
      id: '1753624925100'
      parentId: '1753624798344'
      position:
        x: 99.71719310947901
        y: 65.00000000000023
      positionAbsolute:
        x: 7350.109209624372
        y: 1741.5972440630449
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-478
            key: ''
            type: text
            value: '{{#1753687525550.text#}}'
          type: json
        desc: ''
        headers: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1753624798344'
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: 获取资源
        type: http-request
        url: '{{#env.api#}}:3000/api/get-resources-by-skill-id'
        variables: []
      height: 143
      id: '1753625079763'
      parentId: '1753624798344'
      position:
        x: 396.3292666413736
        y: 65.68258384995124
      positionAbsolute:
        x: 7646.7212831562665
        y: 1742.2798279129959
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        author: lms
        desc: ''
        height: 439
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"用户的profile和要解决的问题是","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"你是一个学习路径规划专家，根据用户的个人背景和具体需求，制定个性化的学习计划，帮助用户高效地达到其学习目标。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"##
          技能","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1.
          **生成一条明确的知识点学习路径（plan）**：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          包括目标知识点本身；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          必要的前置知识（前驱知识点）；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          子知识点或细分内容；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          **严格按照知识点的依赖关系排序**：确保每个知识点的所有前置知识都已在前面出现；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          **特别注意数学概念的逻辑顺序**：如行列式必须在逆矩阵之前，基础运算必须在高级应用之前；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          以数组形式返回这些知识点，按从基础到深入的严格逻辑顺序排列。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"2.
          **生成详细的学习计划（detail_plan）**：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          对每个知识点，给出建议的学习时间（小时为单位）；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          推荐具体的学习方法（如观看视频、阅读教材、做练习题、使用可视化工具等）；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          补充其他细节，如推荐资源（书籍、网站、课程）、注意事项、练习建议等；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          以对象数组的形式返回，每个对象对应一个知识点的详细学习方案。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"##
          重要约束","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          **依赖关系检查**：在生成路径前，必须明确每个知识点的前置要求，确保没有概念在其前置知识之前出现；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          **逻辑验证**：生成路径后进行自检，确保学习顺序符合知识体系的内在逻辑；","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"-
          **数学概念特殊处理**：对于数学主题，特别注意概念间的严格依赖关系（如：基本运算→矩阵概念→行列式→逆矩阵→矩阵分解）。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"##
          输出格式要求：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"请严格返回以下
          JSON 格式的内容，其中plan是列表，请把对应的知识点1、2，……，替换成生成后的具体知识点内容，不要添加任何额外说明或解释：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"{","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"plan\":
          [\"知识点1\", \"知识点2\", ...],","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"detail_plan\":
          [","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"{","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"topic\":
          \"知识点名称\",","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"hours\":
          整数,","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"method\":
          \"建议的学习方法\",","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"resources\":
          [\"资源1\", \"资源2\", ...],","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"notes\":
          \"补充说明或建议\"","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"},","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"...","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"]","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"}","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":null,"format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 251
      height: 439
      id: '1753683737789'
      position:
        x: 4139.570288560859
        y: 344.5706453834872
      positionAbsolute:
        x: 4139.570288560859
        y: 344.5706453834872
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 251
    - data:
        code: "\ndef main(arg1,typee) -> dict:\n    \n    return {\n        \"result\"\
          : str({\n            \"skill_id\":arg1,\n            \"learning_p\":typee\n\
          \        }),\n    }\n"
        code_language: python3
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1753624798344'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 参数构造
        type: code
        variables:
        - value_selector:
          - '1753624925100'
          - result
          variable: arg1
        - value_selector:
          - conversation
          - learning_pref
          variable: typee
      height: 54
      id: '1753687366815'
      parentId: '1753624798344'
      position:
        x: 99.05402402515938
        y: 133.1932761144542
      positionAbsolute:
        x: 7349.446040540052
        y: 1809.7905201774988
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: true
        isInLoop: false
        is_team_authorization: true
        iteration_id: '1753624798344'
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON data string
            ja_JP: JSON data string
            pt_BR: String de dados JSON
            zh_Hans: JSON数据字符串
          label:
            en_US: Text
            ja_JP: Text
            pt_BR: Texto
            zh_Hans: 文本
          llm_description: JSON data string
          max: null
          min: null
          name: text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          text: ''
        provider_id: migege/json_repair/json_repair
        provider_name: migege/json_repair/json_repair
        provider_type: builtin
        selected: false
        title: 格式化资源参数
        tool_configurations: {}
        tool_description: 修复无效的JSON数据
        tool_label: json_repair
        tool_name: json_repair
        tool_parameters:
          text:
            type: mixed
            value: '{{#1753687366815.result#}}'
        type: tool
      height: 54
      id: '1753687525550'
      parentId: '1753624798344'
      position:
        x: 102.56125780883394
        y: 207.31646766853532
      positionAbsolute:
        x: 7352.953274323727
        y: 1883.91371173158
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: true
        isInLoop: false
        is_team_authorization: true
        iteration_id: '1753624798344'
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON data string
            ja_JP: JSON data string
            pt_BR: String de dados JSON
            zh_Hans: JSON数据字符串
          label:
            en_US: Text
            ja_JP: Text
            pt_BR: Texto
            zh_Hans: 文本
          llm_description: JSON data string
          max: null
          min: null
          name: text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          text: ''
        provider_id: migege/json_repair/json_repair
        provider_name: migege/json_repair/json_repair
        provider_type: builtin
        selected: false
        title: 格式化资源
        tool_configurations: {}
        tool_description: 修复无效的JSON数据
        tool_label: json_repair
        tool_name: json_repair
        tool_parameters:
          text:
            type: mixed
            value: '{{#1753625079763.body#}}'
        type: tool
      height: 54
      id: '1753689190810'
      parentId: '1753624798344'
      position:
        x: 672.2767195360766
        y: 66.14718203453526
      positionAbsolute:
        x: 7922.6687360509695
        y: 1742.74442609758
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        code: "import json\ndef main(arg1: str, arg2: str) -> dict:\n    res=json.loads(arg2)\n\
          \    return {\n        \"result\": {\n            arg1:res\n           \
          \ },\n    }\n"
        code_language: python3
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1753624798344'
        outputs:
          result:
            children: null
            type: object
        selected: false
        title: 代码执行 27
        type: code
        variables:
        - value_selector:
          - '1753624798344'
          - item
          variable: arg1
        - value_selector:
          - '1753689190810'
          - text
          variable: arg2
      height: 54
      id: '1753689207885'
      parentId: '1753624798344'
      position:
        x: 672.3685432237071
        y: 141.4289315187823
      positionAbsolute:
        x: 7922.7605597386
        y: 1818.026175581827
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        code: "import json\ndef main(id_str: str,resources,index) -> dict:\n    res=json.loads(id_str)\n\
          \    return {\n        \"result\": str({\n            \"id\":res[\"id\"\
          ],\n            \"resources\":resources[index]\n        }),\n    }\n"
        code_language: python3
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1753344648259'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 获取插入id
        type: code
        variables:
        - value_selector:
          - '1753344715167'
          - body
          variable: id_str
        - value_selector:
          - '1753624798344'
          - output
          variable: resources
        - value_selector:
          - '1753344648259'
          - index
          variable: index
      height: 54
      id: '1753699466158'
      parentId: '1753344648259'
      position:
        x: 726.3685432237071
        y: 69.51968514122768
      positionAbsolute:
        x: 8980.813594158542
        y: 1850.300284498531
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: true
        isInLoop: false
        is_team_authorization: true
        iteration_id: '1753344648259'
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON data string
            ja_JP: JSON data string
            pt_BR: String de dados JSON
            zh_Hans: JSON数据字符串
          label:
            en_US: Text
            ja_JP: Text
            pt_BR: Texto
            zh_Hans: 文本
          llm_description: JSON data string
          max: null
          min: null
          name: text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          text: ''
        provider_id: migege/json_repair/json_repair
        provider_name: migege/json_repair/json_repair
        provider_type: builtin
        selected: false
        title: 资源参数修复
        tool_configurations: {}
        tool_description: 修复无效的JSON数据
        tool_label: json_repair
        tool_name: json_repair
        tool_parameters:
          text:
            type: mixed
            value: '{{#1753699466158.result#}}'
        type: tool
      height: 54
      id: '1753700688949'
      parentId: '1753344648259'
      position:
        x: 726.3455027656364
        y: 129.75978448809838
      positionAbsolute:
        x: 8980.790553700472
        y: 1910.5403838454017
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-637
            key: ''
            type: text
            value: '{{#1753700688949.text#}}'
          type: json
        desc: ''
        headers: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1753344648259'
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP 请求 6
        type: http-request
        url: '{{#env.api#}}:3000/api/insertResources'
        variables: []
      height: 113
      id: '1753701083632'
      parentId: '1753344648259'
      position:
        x: 1002.3568118892363
        y: 68.13900706274376
      positionAbsolute:
        x: 9256.801862824072
        y: 1848.919606420047
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: true
        isInLoop: false
        items:
        - input_type: variable
          operation: append
          value:
          - '1753257856153'
          - result
          variable_selector:
          - conversation
          - skill_ids
          write_mode: over-write
        iteration_id: '1753257811685'
        selected: false
        title: skill_ids赋值
        type: assigner
        version: '2'
      height: 88
      id: '1753774710002'
      parentId: '1753257811685'
      position:
        x: 487.0369814020032
        y: 339.71191969222195
      positionAbsolute:
        x: 6787.3282360464555
        y: 1906.6256367709923
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        desc: ''
        headers: ''
        method: get
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: 获取用户偏好
        type: http-request
        url: '{{#env.api#}}:3000/api/user-knowledge-profile/{{#1750254073268.user_id#}}'
        variables: []
      height: 161
      id: '1753887743067'
      position:
        x: 2254.559130575672
        y: 327.5887204545504
      positionAbsolute:
        x: 2254.559130575672
        y: 327.5887204545504
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        author: lms
        desc: ''
        height: 215
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"用户的输入为：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"你负责提取用户信息，完成以下任务：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1.
          分析从数据库加载的用户历史偏好","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"2.
          提取当前问题的核心需求","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"3.
          严格按照以下 JSON 格式输出结果，不要任何额外文本或说明：","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"{","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"
          \"learning\":\"视频资源|课件资源|论文资源|练习资源\"  ","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"profile\":
          \"用户偏好描述，包括知识背景、学习能力、时间安排等\",","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"  \"question\":
          \"明确的问题描述，提取用户当前最核心的诉求\"","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"}","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"请根据用户输入提取关键信息，并以标准
          JSON 格式返回结果。","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 240
      height: 215
      id: '1753941065090'
      position:
        x: 5095.11490721973
        y: 344.5706453834872
      positionAbsolute:
        x: 5095.11490721973
        y: 344.5706453834872
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 240
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        desc: ''
        headers: ''
        method: get
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP 请求 7
        type: http-request
        url: '{{#env.api#}}:3000/api/operation-complete/{{#1753153262760.result#}}'
        variables: []
      height: 161
      id: '1754023821921'
      position:
        x: 9538.192317220995
        y: 1394.0783568923941
      positionAbsolute:
        x: 9538.192317220995
        y: 1394.0783568923941
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: MAGIC_final_deepseek_r1_7b:latest
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: 971930e7-7b22-4aed-95c2-d7ef5dcff417
          role: system
          text: "你是一个学习路径规划助手，负责准确识别并提取用户想要学习的知识点。\n\n## 核心任务\n从用户输入中准确提取学习主题，并将其转换为具体的、可操作的知识点列表。\n\
            \n## 处理步骤\n\n### 1. 原始主题提取（必须执行）\n- **核心原则**：用户明确提到的学科/主题名称必须原样保留\n- 直接提取用户明确说出的科目名称（如\"\
            微积分\"、\"线性代数\"、\"Python\"等）\n- 这些原始主题名称必须作为知识点列表的核心组成部分\n- 示例：用户说\"学习微积分\"\
            \ → 必须包含\"微积分\"这个知识点\n\n### 3. 质量检查\n- 确认每个用户提到的主题都有对应的知识点\n- 知识点应该具体且可学习，避免过于抽象或过于细节\n\
            \n## 输出要求\n- 输出格式：纯JSON字符串数组\n- 只包含知识点名称，无任何额外内容\n- **必须包含用户明确提到的原始学科名称**\n\
            - 只能输出一个知识点\n## 示例说明\n**输入**：\"我在准备今年12月的考研，我想检测一下我对微积分的掌握\"\n**正确输出**：`[\"\
            微积分\"]`\n**错误输出**：`[\"极限\", \"导数\", \"积分\"]` （提取了多个，并且不是输入中所包含的）\n## 输出格式\n\
            ```json\n[\n  \"知识点\"\n]\n```\n\n---\n\n**处理以下用户输入：**\n用户输入：{{#sys.query#}}"
        selected: false
        title: LLM 15
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1754487212970'
      position:
        x: 1181.0316097103475
        y: 928.0787970081942
      positionAbsolute:
        x: 1181.0316097103475
        y: 928.0787970081942
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON data string
            ja_JP: JSON data string
            pt_BR: String de dados JSON
            zh_Hans: JSON数据字符串
          label:
            en_US: Text
            ja_JP: Text
            pt_BR: Texto
            zh_Hans: 文本
          llm_description: JSON data string
          max: null
          min: null
          name: text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          text: ''
        provider_id: migege/json_repair/json_repair
        provider_name: migege/json_repair/json_repair
        provider_type: builtin
        selected: false
        title: json_repair (1)
        tool_configurations: {}
        tool_description: 修复无效的JSON数据
        tool_label: json_repair
        tool_name: json_repair
        tool_parameters:
          text:
            type: mixed
            value: '{{#17544875613140.result#}}'
        type: tool
      height: 54
      id: '17544875240220'
      position:
        x: 1870.573180739091
        y: 928.0787970081942
      positionAbsolute:
        x: 1870.573180739091
        y: 928.0787970081942
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\ndef main(arg1: str) -> dict:\n    res=json.loads(arg1)\n\
          \    print(type(res))\n    return {\n        \"result\": res[0]\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 代码执行 10 (1)
        type: code
        variables:
        - value_selector:
          - '17544875240220'
          - text
          variable: arg1
      height: 54
      id: '17544875330230'
      position:
        x: 1870.573180739091
        y: 1000.8061085937654
      positionAbsolute:
        x: 1870.573180739091
        y: 1000.8061085937654
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\ndef main(arg1: str) -> dict:\n    res=re.sub(r\"<think>.*?</think>\"\
          , \"\",arg1, flags=re.DOTALL).strip()\n    return {\n        \"result\"\
          : res,\n    }\n"
        code_language: python3
        desc: 去除think
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 代码执行 9 (1)
        type: code
        variables:
        - value_selector:
          - '1754487212970'
          - text
          variable: arg1
      height: 82
      id: '17544875613140'
      position:
        x: 1521.9536196872232
        y: 928.0787970081942
      positionAbsolute:
        x: 1521.9536196872232
        y: 928.0787970081942
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        dataset_ids:
        - nSLFPO/UyGtvQQXuVoO88cbgTbq2FncEzkWxDl5hTBWr2dWcwMbtzgofJJ2dEAcj
        desc: ''
        multiple_retrieval_config:
          reranking_enable: false
          reranking_mode: weighted_score
          top_k: 4
          weights:
            keyword_setting:
              keyword_weight: 0.3
            vector_setting:
              embedding_model_name: nomic-embed-text
              embedding_provider_name: langgenius/ollama/ollama
              vector_weight: 0.7
        query_variable_selector:
        - '17544875330230'
        - result
        retrieval_mode: multiple
        selected: false
        title: 知识检索 2
        type: knowledge-retrieval
      height: 92
      id: '1754487603819'
      position:
        x: 2254.559130575672
        y: 928.0787970081942
      positionAbsolute:
        x: 2254.559130575672
        y: 928.0787970081942
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef calculate_overlap(str1, str2):\n    \n    str1=str1.upper()\n\
          \    str2=str2.upper()\n    # 将字符串转换为字符集合\n    set1 = set(str1)\n    set2\
          \ = set(str2)\n    \n    # 计算交集（重合字符）\n    overlap_chars = set1 & set2\n\
          \    overlap_count = len(overlap_chars)\n    \n    # 计算并集（总字符数，去重）\n   \
          \ total_chars = set1 | set2\n    total_count = len(total_chars)\n    \n\
          \    # 计算重合度（避免除以零）\n    if total_count == 0:\n        similarity = 0.0\n\
          \    else:\n        similarity = overlap_count * 2 / total_count\n    \n\
          \    return similarity, overlap_count, total_count\n\n\n\n\ndef main(arg1,knowledges1,skill2id)\
          \ -> dict:\n    # 测试示例\n    knowledge1 = arg1[0][\"content\"]\n\n    knowledges=knowledges1\n\
          \    values_list = list(knowledges.values())\n    # print(values_list)\n\
          \    sim_list=[]\n    for val in values_list:\n        similarity, overlap_count,\
          \ total_count = calculate_overlap(knowledge1, val)\n        if(similarity>0):\n\
          \            sim_list.append({\n                \"{}\".format(str(similarity)):val\n\
          \            })\n\n    sorted_data = sorted(sim_list, key=lambda item: float(list(item.keys())[0]),reverse=True)\n\
          \    if len(sorted_data):\n        res=list(sorted_data[0].values())\n \
          \       return {\n            \"result\": skill2id[res[0]],\n        }\n\
          \    else:\n        return {\n            \"result\": \"\",\n        }"
        code_language: python3
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '17544876666410'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 代码执行 30 (1)
        type: code
        variables:
        - value_selector:
          - '1754487603819'
          - result
          variable: arg1
        - value_selector:
          - conversation
          - id2skill
          variable: knowledges1
        - value_selector:
          - conversation
          - skill2id
          variable: skill2id
      height: 54
      id: '17544876979680'
      position:
        x: 2565.288073266862
        y: 927.9255811218062
      positionAbsolute:
        x: 2565.288073266862
        y: 927.9255811218062
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        desc: ''
        headers: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '17544876666410'
        method: get
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP 请求 8 (1)
        type: http-request
        url: '{{#env.api#}}:3000/api/get-questions-by_skill_id/{{#17544876979680.result#}}'
        variables: []
      height: 161
      id: '17544877077090'
      position:
        x: 2893.520787621069
        y: 927.9526158326993
      positionAbsolute:
        x: 2893.520787621069
        y: 927.9526158326993
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: true
        isInLoop: false
        is_team_authorization: true
        iteration_id: '17544876666410'
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON data string
            ja_JP: JSON data string
            pt_BR: String de dados JSON
            zh_Hans: JSON数据字符串
          label:
            en_US: Text
            ja_JP: Text
            pt_BR: Texto
            zh_Hans: 文本
          llm_description: JSON data string
          max: null
          min: null
          name: text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          text: ''
        provider_id: migege/json_repair/json_repair
        provider_name: migege/json_repair/json_repair
        provider_type: builtin
        selected: false
        title: json repair14
        tool_configurations: {}
        tool_description: 修复无效的JSON数据
        tool_label: json_repair
        tool_name: json_repair
        tool_parameters:
          text:
            type: mixed
            value: '{{#17544877077090.body#}}'
        type: tool
      height: 54
      id: '17544877135400'
      position:
        x: 3187.4657104158155
        y: 927.8245216370723
      positionAbsolute:
        x: 3187.4657104158155
        y: 927.8245216370723
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-1556
            key: ''
            type: text
            value: '{

              "questions":{{#17544877135400.text#}},

              "skill":"{{#17544875330230.result#}}",

              "user_id":{{#1750254073268.user_id#}}

              }'
          type: json
        desc: ''
        headers: ''
        method: get
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP 请求 9
        type: http-request
        url: '{{#env.api#}}:3000/api/checkKnowledge'
        variables: []
      height: 143
      id: '1754487894394'
      position:
        x: 3479.895796196738
        y: 928.0787970081942
      positionAbsolute:
        x: 3479.895796196738
        y: 928.0787970081942
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        desc: ''
        headers: ''
        method: get
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP 请求 10
        type: http-request
        url: '{{#env.api#}}:3000/api/questions-complete'
        variables: []
      height: 143
      id: '1754492652324'
      position:
        x: 3783.895796196738
        y: 928.0787970081942
      positionAbsolute:
        x: 3783.895796196738
        y: 928.0787970081942
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\ndef main(arg1: str) -> dict:\n    res=json.loads(arg1)\n\
          \    return {\n        \"result\": res[\"profile_summary\"],\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 代码执行 31
        type: code
        variables:
        - value_selector:
          - '1753887743067'
          - body
          variable: arg1
      height: 54
      id: '1754494797188'
      position:
        x: 2553.670332132029
        y: 327.5887204545504
      positionAbsolute:
        x: 2553.670332132029
        y: 327.5887204545504
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -1645.6758009028758
      y: 87.45327780457882
      zoom: 0.5888613947974906
